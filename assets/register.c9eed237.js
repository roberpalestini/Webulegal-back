import{_,r as p,o as v,c as b,b as o,k as y,l as n,m as r,a as l,u as k,w as c,p as m,q as w,s as x,n as d,t as S}from"./vendor.3ce90362.js";import{_ as $}from"./Logocompleto.3df4452e.js";import{v as N}from"./index.f2e8f42a.js";import{V as h}from"./vue-facebook-login-component-next.es.8eb78c34.js";import{r as u}from"./index.f3c26685.js";const g=e=>(w("data-v-592f0e32"),e=e(),x(),e),I={class:"container"},O={class:"row justify-content-center"},P=m('<div class="col-md-5 text-center" style="margin-top:20px;margin-bottom:20px;" data-v-592f0e32><img src="'+$+'" alt="" style="max-width:270px;" class="img-fluid" data-v-592f0e32></div><div class="col-md-12" data-v-592f0e32></div><div class="col-md-5 text-center" style="font-size:16px;margin-top:20px;margin-bottom:20px;" data-v-592f0e32> Sumate a la comunidad y hac\xE9 m\xE1s eficiente tu trabajo legal </div><div class="col-md-12" data-v-592f0e32></div>',4),q={class:"col-md-5",style:{"margin-top":"20px","margin-bottom":"20px"}},C={class:"form-group"},T={class:"form-group"},E={class:"form-group"},F={class:"form-group"},V={class:"form-group"},G={class:"form-group"},j=m('<div class="form-group" style="margin-top:20px;margin-bottom:20px;" data-v-592f0e32><p data-v-592f0e32>Al ingresar acept\xE1s los <a href="/src/assets/T\xC9RMINOS-Y-CONDICIONES-GENERALES-WEBU.pdf" target="_blank" data-v-592f0e32>t\xE9rminos y condiciones</a> y la <a href="/src/assets/Politica-de-Privacidad-Webu.pdf" target="_blank" data-v-592f0e32>pol\xEDtica de privacidad</a>. </p></div><div class="form-group" style="margin-top:20px;margin-bottom:20px;" data-v-592f0e32><button type="submit" class="btn btn-primary col-12" style="width:100%;position:relative;height:45px;" data-v-592f0e32>Registrarse</button></div>',2),B=g(()=>o("div",{class:"col-md-12"},null,-1)),L={class:"col-md-5"},D={class:"form-group",style:{"margin-top":"20px","margin-bottom":"20px","text-align":"center"}},U=d(" Continuar con Facebook "),R={class:"form-group",style:{"margin-top":"20px","margin-bottom":"20px"}},J=g(()=>o("div",{class:"col-md-12"},null,-1)),M={class:"col-md-5"},A={class:"form-group text-center",style:{"margin-top":"20px","margin-bottom":"20px"}},W=d(" \xBFYa tenes cuenta? "),Y=d("Iniciar sesion"),z={components:{VFacebookLogin:h},data(){return{buttonConfig:{theme:"outline",shape:"circle",locale:"es",text:"continue_with"},scopeFB:[{scope:"email"},{scope:"name"}],endpointGoogle:window.ENDPOINT+"/users/login/google",endpointFacebook:window.ENDPOINT+"/users/login/facebook",sdkFB:null,data:{email:null,password:null,firstname:null,lastname:null,phone:null,code_promotional:null},loading_submit:!1,endpoint:window.ENDPOINT+"/users/register"}},created(){},mounted(){},methods:{handleSdkInit({FB:e,scope:t}){this.sdkFB=e},callbackFacebook(e){var t=this.submitFacebook;this.sdkFB.api("/me?fields=id,name,email",function(s){console.log(e," data me "),console.log("Welcome, "+e.name+"!"),console.log("Your email id is : "+e.email),t(e,s)})},callbackGoogle(e){const t=S(e.credential);console.log("Handle the userData",t,e),this.submitGoogle(e,t)},submitGoogle(e,t){this.$Progress.start(),this.loading_submit=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,data:t})};fetch(this.endpointGoogle,s).then(a=>a.json()).then(a=>{if(!a.error){if(this.$Progress.finish(),console.log("test",a),localStorage.setItem("auth",a.auth),localStorage.setItem("user",JSON.stringify(a)),this.$route.query.rel){window.location.href=this.$route.query.rel;return}u.push("/platform/dashboard"),this.$Progress.finish()}})},submitFacebook(e,t){this.$Progress.start(),this.loading_submit=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,data:t})};fetch(this.endpointFacebook,s).then(a=>a.json()).then(a=>{if(!a.error){if(this.$Progress.finish(),console.log("test",a),localStorage.setItem("auth",a.auth),localStorage.setItem("user",JSON.stringify(a)),this.$route.query.rel){window.location.href=this.$route.query.rel;return}u.push("/platform/dashboard"),this.$Progress.finish()}})},save(){if(this.$Progress.start(),!N(this.data.email)){this.$toast.show("E-mail incorrecto.",{position:"bottom-right"}),this.$Progress.finish();return}this.loading_submit=!0;const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.data.email,password:this.data.password,firstname:this.data.firstname,lastname:this.data.lastname,phone:this.data.phone,code_promotional:this.data.code_promotional})};fetch(this.endpoint,e).then(t=>t.json()).then(t=>{if(t.error)this.$toast.show("E-Mail no disponible..",{position:"bottom-right"});else{if(this.$toast.success("Gracias por registrarte , ya puedes iniciar sesion.",{position:"bottom-right"}),this.$route.query.rel){this.$router.push({name:"login",query:{rel:this.$route.query.rel}});return}this.$router.push("/login")}this.$Progress.finish()})},pause(){},hover(){}}},H=Object.assign(z,{setup(e){return(t,s)=>{const a=p("GoogleLogin"),f=p("RouterLink");return v(),b("div",I,[o("div",O,[P,o("div",q,[o("form",{onSubmit:s[6]||(s[6]=y(i=>t.save(),["prevent"]))},[o("div",C,[n(o("input",{type:"text",class:"form-control",placeholder:"Nombre","onUpdate:modelValue":s[0]||(s[0]=i=>t.data.firstname=i),required:"true"},null,512),[[r,t.data.firstname]])]),o("div",T,[n(o("input",{type:"text",class:"form-control",placeholder:"Apellido","onUpdate:modelValue":s[1]||(s[1]=i=>t.data.lastname=i),required:"true"},null,512),[[r,t.data.lastname]])]),o("div",E,[n(o("input",{type:"email",class:"form-control",placeholder:"E-Mail","onUpdate:modelValue":s[2]||(s[2]=i=>t.data.email=i),required:"true"},null,512),[[r,t.data.email]])]),o("div",F,[n(o("input",{type:"password",class:"form-control",placeholder:"Contrase\xF1a","onUpdate:modelValue":s[3]||(s[3]=i=>t.data.password=i),required:"true"},null,512),[[r,t.data.password]])]),o("div",V,[n(o("input",{type:"text",class:"form-control",placeholder:"Telefono (Opcional)","onUpdate:modelValue":s[4]||(s[4]=i=>t.data.phone=i)},null,512),[[r,t.data.phone]])]),o("div",G,[n(o("input",{type:"text",class:"form-control",placeholder:"Codigo promocional","onUpdate:modelValue":s[5]||(s[5]=i=>t.data.code_promotional=i)},null,512),[[r,t.data.code_promotional]])]),j],32)]),B,o("div",L,[o("div",D,[l(k(h),{"app-id":"394916662616132",onLogin:t.callbackFacebook,"login-options":{scope:"email,user_likes"},onSdkInit:t.handleSdkInit,style:{transition:"background-color 0.25s ease-in-out 0s",width:"230px","font-size":"13px","border-radius":"30px",height:"40px","font-weight":"600","text-align":"right","/* background":"rgb(59, 89, 152)"},"sdk-locale":"ar_AR",slot:{login:"test"}},{login:c(()=>[U]),_:1},8,["onLogin","onSdkInit"])]),o("div",R,[l(a,{callback:t.callbackGoogle,buttonConfig:t.buttonConfig},null,8,["callback","buttonConfig"])])]),J,o("div",M,[o("div",A,[W,l(f,{to:"/login"},{default:c(()=>[Y]),_:1})])])])])}}});var ot=_(H,[["__scopeId","data-v-592f0e32"]]);export{ot as default};
