import{o as r,c as n,a as u,b as e,G as g,k as m,l as y,m as f,F as l,D as c,A as d,H as h}from"./vendor.3ce90362.js";import{_ as w}from"./Logocompleto.3df4452e.js";import{n as b,c as v}from"./navbar.3dc83e26.js";var _="/assets/search(1).008dd028.svg";const x={class:"container-fluid"},k={class:"row"},D={class:"col-md-2",style:{height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",padding:"0"}},T={class:"col-md-10 text-center",style:{padding:"20px",border:"1px solid #e2e2e2",background:"white",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto","border-bottom":"1px solid #e5e5e5"}},M={class:"row justify-content-center"},N={class:"col-md-6 text-center"},S=e("img",{src:w,style:{"max-width":"300px"}},null,-1),B=e("br",null,null,-1),O=e("br",null,null,-1),I={class:"d-flex justify-content-center"},P={style:{"list-style":"none",display:"flex",width:"fit-content",background:"rgb(236 234 234 / 46%)","border-radius":"30px",height:"auto",padding:"1px"}},$={style:{position:"relative"}},z=["placeholder"],C=e("img",{src:_,style:{width:"20px",height:"20px","margin-right":"10px",position:"absolute",top:"0",left:"0",margin:"15px","margin-left":"24px"}},null,-1),L={key:0,style:{position:"absolute",top:"0",width:"100%",height:"auto",background:"white","z-index":"500",border:"1px solid #cccccc","border-radius":"8px","margin-top":"60px","max-height":"400px",overflow:"hidden","overflow-y":"auto"}},j={style:{width:"100%",padding:"0",margin:"0","list-style":"none"}},W={style:{padding:"15px",width:"100%","text-align":"left",background:"rgb(248 248 248)","border-bottom":"1px solid #e6e6e6"}},E=["onClick"],q={key:1,style:{background:"rgb(241 241 241)",padding:"7px","padding-top":"7px","padding-bottom":"7px","text-align":"left","font-weight":"600",color:"#636363","font-size":"12px"}},H={style:{padding:"15px",width:"100%","text-align":"left",background:"rgb(248 248 248)","border-bottom":"1px solid #e6e6e6"}},V=["onClick"],A={style:{"font-size":"12px"}},F={key:0,class:"col-md-8",style:{background:"rgb(236 234 234 / 46%)","border-radius":"8px","margin-top":"30px","padding-right":"0px"}},J=e("div",{class:"row",style:{"padding-top":"8px","padding-bottom":"8px","border-bottom":"1px solid #d1d1d1","margin-right":"0"}},[e("div",{class:"col-md-12 text-left",style:{"font-weight":"600","font-size":"14px",color:"#696969","text-transform":"uppercase"}}," Lo m\xE1s destacado en Biblioteca ")],-1),U={style:{"overflow-y":"scroll","overflow-x":"hidden","max-height":"40vh"}},G={class:"row",style:{"padding-top":"15px","padding-bottom":"15px","border-bottom":"1px solid #d1d1d1"}},K={class:"col-md-8 text-left"},X=["onClick"],Q=["innerHTML"],R={key:1,class:"col-md-8",style:{"margin-top":"15px"}},Y={key:0,class:"row"},Z=e("div",{class:"col-md-12 text-left",style:{"border-radius":"8px",color:"white","font-weight":"500",background:"#5d5d5d",padding:"15px"}}," No se encontraron documentos. ",-1),tt=[Z],et={key:2,class:"col-md-8",style:{background:"rgb(236 234 234 / 46%)","border-radius":"8px","margin-top":"30px","padding-right":"0px"}},st=e("div",{class:"row",style:{"padding-top":"8px","padding-bottom":"8px","border-bottom":"1px solid #d1d1d1","margin-right":"0"}},[e("div",{class:"col-md-12 text-left",style:{"font-weight":"600","font-size":"14px",color:"#696969","text-transform":"uppercase"}}," Lo m\xE1s destacado en Escritos ")],-1),ot={style:{"overflow-y":"scroll","overflow-x":"hidden","max-height":"40vh"}},it={class:"row",style:{"padding-top":"15px","padding-bottom":"15px","border-bottom":"1px solid #d1d1d1"}},rt={class:"col-md-8 text-left"},nt=["onClick"],at=["innerHTML"],dt={key:3,class:"col-md-8",style:{"margin-top":"15px"}},lt={key:0,class:"row"},ht=e("div",{class:"col-md-12 text-left",style:{"border-radius":"8px",color:"white","font-weight":"500",background:"#5d5d5d",padding:"15px"}}," No se encontraron documentos. ",-1),ct=[ht],pt={data(){return{auth:localStorage.getItem("auth"),endpointSearchWriting:window.ENDPOINT+"/search/writing",endpointSearchDocument:window.ENDPOINT+"/search/document",endpointSearchTags:window.ENDPOINT+"/search/tags",searchMode:"document",searchInput:{target:null,holder:"Buscar doctrina, jurisprudencia y legislaci\xF3n"},searchDocuments:[],searchFolders:[],searchTags:[],searchFoldersDocuments:[],teste:[],BestDocuments:[],bestWritings:[],document:[{data:{title:null}}]}},created(){},mounted(){this.getBestDocuments(),this.getbestWritings()},computed:{},methods:{getStars(o){if(o<=10)return 1;if(o<=20)return 2;if(o<=30)return 3;if(o<=40)return 4;if(o<=50||o>=50)return 5},displayStars(o){for(var t='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000" style="fill: #ead723"><g><path d="M0,0h24v24H0V0z" fill="none"/><path d="M0,0h24v24H0V0z" fill="none"/></g><g><path d="M12,17.27L18.18,21l-1.64-7.03L22,9.24l-7.19-0.61L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27z"/></g></svg>',i=this.getStars(o),s=1,a="";s<=i;)a=a+t,s++;return a},getBestDocuments(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth})};fetch(window.ENDPOINT+"/comunity/best/documents",o).then(t=>t.json()).then(t=>{if(t.empty){this.BestDocuments=[];return}this.BestDocuments=t,console.log("BestDocuments",this.BestDocuments),this.$Progress.finish()})},getbestWritings(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth})};fetch(window.ENDPOINT+"/comunity/best/writings",o).then(t=>t.json()).then(t=>{if(t.empty){this.bestWritings=[];return}this.bestWritings=t,this.$Progress.finish()})},goToDocument(o,t,i){i.preventDefault(),t=="writing"?this.$router.push({name:"view-automatic-document",params:{id:o}}):this.$router.push({name:"view-document",params:{id:o}})},gotoFolder(o){if(this.searchMode=="writing"){this.$router.push({name:"search-writings",query:{folder:o,search:this.searchInput.target}});return}this.$router.push({name:"search",query:{folder:o,search:this.searchInput.target}})},gotoTag(o,t){if(this.searchMode=="writing"){this.$router.push({name:"search-writings",query:{tag:o,id:t}});return}this.$router.push({name:"search",query:{tag:o,id:t}})},gotoSearch(){if(this.searchMode=="writing"){this.$router.push({name:"search-writings",query:{search:this.searchInput.target}});return}this.$router.push({name:"search",query:{search:this.searchInput.target}})},changeMode(o){this.searchMode=o},searchAllDocuments(){return new Promise((o,t)=>{const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,search:this.searchInput.target})};if(this.searchMode=="document")var s=window.ENDPOINT+"/comunity/search/document";else var s=window.ENDPOINT+"/comunity/search/writing";fetch(s,i).then(a=>a.json()).then(a=>{a.length==0?o([]):o(a)})})},searchAllTags(){return new Promise((o,t)=>{const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,search:this.searchInput.target})};fetch(this.endpointSearchTags,i).then(s=>s.json()).then(s=>{s.empty?o([]):o(s)})})},search(){this.$Progress.start(),this.searchAllDocuments().then(o=>{this.searchDocuments=o,console.log("sear",this.searchDocuments)}),this.$Progress.finish()},pause(){},hover(){}}},yt=Object.assign(pt,{setup(o){return(t,i)=>(r(),n(l,null,[u(b),e("main",null,[e("div",x,[e("div",k,[e("div",D,[u(v)]),e("div",T,[e("div",M,[e("div",N,[S,B,O,e("div",I,[e("ul",P,[e("li",null,[e("a",{style:{"border-radius":"30px","font-weight":"600",padding:"4px",background:"rgb(236 234 234 / 46%)","font-size":"14px","padding-left":"10px","padding-right":"10px",cursor:"pointer"},onClick:i[0]||(i[0]=s=>{t.changeMode("document"),t.searchInput.holder="Buscar doctrina, jurisprudencia y legislaci\xF3n"}),class:g({activeMode:t.searchMode==="document"})},"Bibilioteca",2)]),e("li",null,[e("a",{style:{"border-radius":"30px","font-weight":"600",padding:"4px",background:"rgb(236 234 234 / 46%)","font-size":"14px","padding-left":"10px","padding-right":"10px",cursor:"pointer"},onClick:i[1]||(i[1]=s=>{t.changeMode("writing"),t.searchInput.holder="Buscar modelos de escritos automatizados"}),class:g({activeMode:t.searchMode==="writing"})},"Escritos",2)])])]),e("form",{style:{position:"relative"},onSubmit:i[4]||(i[4]=m(s=>t.gotoSearch(),["prevent"]))},[e("div",$,[y(e("input",{type:"text",class:"form-control imput-search input-search-dashboard",onKeyup:i[2]||(i[2]=(...s)=>t.search&&t.search(...s)),"onUpdate:modelValue":i[3]||(i[3]=s=>t.searchInput.target=s),placeholder:t.searchInput.holder},null,40,z),[[f,t.searchInput.target]]),C]),t.searchInput.target?(r(),n("div",L,[e("ul",j,[t.searchTags.length>0?(r(!0),n(l,{key:0},c(t.searchTags,(s,a)=>(r(),n("li",W,[e("a",{href:"#",style:{"font-size":"11px","font-weight":"600"},onClick:m(p=>t.gotoTag(s.data.title,s._id),["prevent"])},h(s.data.title),9,E)]))),256)):d("",!0),t.searchDocuments.length>0?(r(),n("li",q," TEXTUAL ")):d("",!0),(r(!0),n(l,null,c(t.searchDocuments,(s,a)=>(r(),n("li",H,[e("a",{href:"#",style:{"font-size":"13px","font-weight":"600",color:"black"},onClick:p=>t.goToDocument(s._id,s.data.type,p)},h(s.data.title),9,V),e("p",A,h(s.data.description),1)]))),256))])])):d("",!0)],32)]),t.searchMode==="document"?(r(),n("div",F,[J,e("div",U,[t.BestDocuments.length>0||t.bestWritings.empty?(r(!0),n(l,{key:0},c(t.BestDocuments,s=>(r(),n("div",G,[e("div",K,[e("a",{href:"#",onClick:a=>t.goToDocument(s._id,s.data.type,a),style:{"font-weight":"600","font-size":"15px",color:"#696969"}},h(s.data.title),9,X)]),e("div",{class:"col-md-4 text-right pr-4",innerHTML:t.displayStars(s.data.cout_validate)},null,8,Q)]))),256)):d("",!0)])])):d("",!0),t.searchMode==="document"?(r(),n("div",R,[t.BestDocuments.length==0||t.BestDocuments.empty==!0?(r(),n("div",Y,tt)):d("",!0)])):d("",!0),t.searchMode=="writing"?(r(),n("div",et,[st,e("div",ot,[t.bestWritings.length>0||t.bestWritings.empty?(r(!0),n(l,{key:0},c(t.bestWritings,s=>(r(),n("div",it,[e("div",rt,[e("a",{href:"#",onClick:a=>t.goToDocument(s._id,s.data.type,a),style:{"font-weight":"600","font-size":"15px",color:"#696969"}},h(s.data.title),9,nt)]),e("div",{class:"col-md-4 text-right pr-4",innerHTML:t.displayStars(s.data.cout_validate)},null,8,at)]))),256)):d("",!0)])])):d("",!0),t.searchMode==="writing"?(r(),n("div",dt,[t.bestWritings.length==0||t.bestWritings.empty==!0?(r(),n("div",lt,ct)):d("",!0)])):d("",!0)])])])])])],64))}});export{yt as default};
