import{o as n,c as d,a as p,b as t,F as h,D as u,k as m,l,m as r,A as f,n as c,H as a}from"./vendor.3ce90362.js";import{_ as g}from"./trash.123024ab.js";import{n as _,c as b}from"./navbar.3dc83e26.js";import"./Logocompleto.3df4452e.js";const y={class:"container-fluid"},v={class:"row"},E={class:"col-md-2",style:{height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",padding:"0"}},P={class:"col-md-10 text-center",style:{padding:"20px",border:"1px solid #E2E2E2",background:"white",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto","border-bottom":"1px solid #E5E5E5"}},S={class:"row justify-content-center"},w={class:"col-md-12"},O=t("div",{class:"col-md-12",style:{"margin-bottom":"30px"}},[t("h4",{style:{"font-weight":"bold","text-align":"left","font-size":"17px"}},"Comentarios")],-1),N={class:"table"},x=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Usuario"),t("th",{scope:"col"},"Comentario"),t("th",{scope:"col"},"Fecha"),t("th",{scope:"col"},"Acciones")])],-1),T={style:{"text-align":"left"}},k=t("br",null,null,-1),C={style:{"font-size":"13.5px","text-align":"left"}},j=t("br",null,null,-1),I=["onClick"],D=t("img",{src:g,style:{width:"14px",height:"14px","margin-right":"5px"}},null,-1),U=c(" Eliminar"),V=[D,U],B={class:"modal fade",id:"createPayment","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},L={class:"modal-dialog modal-dialog-centered"},q=t("div",{class:"modal-header text-center"},[t("h5",{class:"modal-title"},"Nuevo codigo"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),z={class:"modal-body"},J={class:"form-group"},A=t("label",null,"Titulo",-1),F={class:"form-group"},R=t("label",null,"Codigo",-1),G={class:"form-group"},M=t("label",null,"Precio",-1),H=t("div",{class:"modal-footer",style:{border:"none"}},[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"}}," Guardar ")],-1),K={class:"modal fade",id:"editPayment","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Q={class:"modal-dialog modal-dialog-centered"},W=t("div",{class:"modal-header text-center"},[t("h5",{class:"modal-title"},"Editar codigo"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),X={class:"modal-body"},Y={class:"form-group"},Z=t("label",null,"Titulo",-1),tt={class:"form-group"},et=t("label",null,"Codigo",-1),ot={class:"form-group"},st=t("label",null,"Precio",-1),it=t("div",{class:"modal-footer",style:{border:"none"}},[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"}}," Guardar ")],-1),at={class:"modal fade",id:"openRegisters","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},nt={class:"modal-dialog modal-dialog-centered"},dt={class:"modal-content"},lt=t("div",{class:"modal-header text-center"},[t("h5",{class:"modal-title"},"Usuarios registrados"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),rt={key:0,class:"modal-body"},ct={class:"col-md-12 text-left",style:{padding:"15px","font-size":"12px","margin-bottom":"15px",border:"1px solid #E7E7E7"}},ht=["src"],mt=c(),pt={style:{"font-weight":"600","font-size":"14px"}},ut={data(){return{settings:{access_token:null,mode:null},form:{title:null,unit_price:0,code:null},formEdit:{title:null,unit_price:0,code:null},endpoint:window.ENDPOINT+"/admin/comments",endpointSave:window.ENDPOINT+"/admin/payments/code/create",endpointUpdate:window.ENDPOINT+"/admin/payments/code/edit",endpointDelete:window.ENDPOINT+"/admin/comments/delete",endpointSaveSettings:window.ENDPOINT+"/admin/payments/settings/edit",endpointLoadSettings:window.ENDPOINT+"/admin/payments/settings/get",data:[],registers:[]}},created(){this.load()},mounted(){},computed:{},methods:{openRegisters(i){i.length>0&&(this.registers=i,$("#openRegisters").modal("show"))},openNew(){$("#createPayment").modal("show")},openEdit(i){this.formEdit=this.data[i],$("#editPayment").modal("show")},removeAction(i){this.$Progress.start();const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),id:i})};fetch(this.endpointDelete,e).then(s=>s.json()).then(s=>{this.$Progress.finish(),this.load()})},load(){this.$Progress.start();const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth")})};fetch(this.endpoint,i).then(e=>e.json()).then(e=>{this.data=e,this.$Progress.finish()})},loadSettings(){this.$Progress.start();const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth")})};fetch(this.endpointLoadSettings,i).then(e=>e.json()).then(e=>{this.settings=e,this.$Progress.finish()})},saveSettings(){this.$Progress.start();const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),data:this.settings})};fetch(this.endpointSaveSettings,i).then(e=>e.json()).then(e=>{this.$Progress.finish(),this.load(),this.loadSettings()})},save(){this.$Progress.start();const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),data:this.form})};fetch(this.endpointSave,i).then(e=>e.json()).then(e=>{this.$Progress.finish(),this.load(),$("#createPayment").modal("hide")})},saveEdit(){this.$Progress.start();const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),data:{title:this.formEdit.title,unit_price:this.formEdit.unit_price,active:this.formEdit.active},id:this.formEdit._id})};fetch(this.endpointUpdate,i).then(e=>e.json()).then(e=>{this.$Progress.finish(),this.load(),$("#editPayment").modal("hide")})}}},Et=Object.assign(ut,{setup(i){return(e,s)=>(n(),d(h,null,[p(_),t("main",null,[t("div",y,[t("div",v,[t("div",E,[p(b)]),t("div",P,[t("div",S,[t("div",w,[O,t("table",N,[x,t("tbody",null,[(n(!0),d(h,null,u(e.data,(o,ft)=>(n(),d("tr",null,[t("td",T,[c(a(o.user.firstname)+" "+a(o.user.lastname)+" ",1),k,t("b",null,a(o.user.email),1)]),t("td",C,[c(a(o.comment)+" ",1),j,t("i",null,[t("b",null,"Comentado en : "+a(o.document_title),1)])]),t("td",null,a(o.date),1),t("td",null,[t("a",{href:"#",onClick:m(gt=>e.removeAction(o._id),["prevent"]),style:{"font-weight":"500","margin-left":"15px"}},V,8,I)])]))),256))])])])])])])])]),t("div",B,[t("div",L,[t("form",{class:"modal-content",onSubmit:s[3]||(s[3]=m(o=>e.save(),["prevent"]))},[q,t("div",z,[t("div",J,[A,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>e.form.title=o)},null,512),[[r,e.form.title]])]),t("div",F,[R,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>e.form.code=o)},null,512),[[r,e.form.code]])]),t("div",G,[M,l(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>e.form.unit_price=o)},null,512),[[r,e.form.unit_price]])])]),H],32)])]),t("div",K,[t("div",Q,[t("form",{class:"modal-content",onSubmit:s[7]||(s[7]=m(o=>e.saveEdit(),["prevent"]))},[W,t("div",X,[t("div",Y,[Z,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>e.formEdit.title=o)},null,512),[[r,e.formEdit.title]])]),t("div",tt,[et,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>e.formEdit.code=o)},null,512),[[r,e.formEdit.code]])]),t("div",ot,[st,l(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>e.formEdit.unit_price=o)},null,512),[[r,e.formEdit.unit_price]])])]),it],32)])]),t("div",at,[t("div",nt,[t("form",dt,[lt,e.registers.length>0?(n(),d("div",rt,[(n(!0),d(h,null,u(e.registers,o=>(n(),d("div",ct,[t("img",{src:"https://ui-avatars.com/api/?background=000000&color=fff&name="+o.firstname+o.lastname,style:{height:"30px","border-radius":"100%"}},null,8,ht),mt,t("span",pt,a(o.firstname)+" "+a(o.lastname),1),c(" "+a(o.email),1)]))),256))])):f("",!0)])])])],64))}});export{Et as default};
