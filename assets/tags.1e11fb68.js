import{r as b,o as i,c as n,a as m,b as t,k as d,A as r,l,m as c,F as g,D as y,H as p,x as f,w as _,n as h}from"./vendor.3ce90362.js";import{_ as v}from"./trash.123024ab.js";import{n as x,c as w}from"./navbar.3dc83e26.js";import"./Logocompleto.3df4452e.js";const k={class:"container-fluid"},D={class:"row"},N={class:"col-md-2",style:{height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",padding:"0"}},C={class:"col-md-10 text-left",style:{padding:"20px",border:"1px solid #F3F3F3",background:"white",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",position:"relative"}},T={class:"col-md-12",style:{"margin-bottom":"30px"}},O=t("h4",{style:{"font-weight":"bold","text-align":"left","font-size":"17px"}},"Etiquetas ",-1),S={key:0,class:"text-center col-md-12"},B=t("div",{class:"col-md-12 text-left",style:{"border-radius":"8px",color:"white","font-weight":"500",background:"#5D5D5D",padding:"15px"}}," No se encontraron registros. ",-1),I=[B],A={key:2,class:"table table-inverse",style:{"font-size":"13px !important"}},P=t("thead",null,[t("tr",null,[t("th",null,"Identificador"),t("th",null,"Titulo"),t("th",null,"Descripcion"),t("th",null,"Acciones")])],-1),q={width:"200"},L={style:{opacity:"0.5"}},j={width:"200"},E={width:"200"},V=h("Descripcion no disponible."),z={width:"200"},F=["onClick"],J=t("img",{src:v,style:{width:"14px",height:"14px","margin-right":"5px"}},null,-1),R=h(" Eliminar"),U=[J,R],M={class:"modal fade",id:"staticBackdrop4","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},H={class:"modal-dialog modal-dialog-centered modal-md"},W=t("div",{class:"modal-header text-center",style:{background:"#dedcdc",color:"#454545","border-top-left-radius":"10px","border-top-right-radius":"10px"}},[t("h5",{class:"modal-title",style:{"font-size":"15px","font-weight":"600","text-align":"center !important",display:"block !important",width:"100%"}},"Nueva etiqueta"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),G={class:"modal-body"},K={class:"form-group"},Q=t("label",null,"Titulo",-1),X={class:"form-group"},Y=t("label",null,"Descripcion",-1),Z={class:"modal-footer",style:{border:"none"}},tt={data(){return{currentType:0,currentName:null,saveCreateLoading:!1,loadingStart:!0,data:[],auth:localStorage.getItem("auth"),endpoint:window.ENDPOINT+"/admin/tags",inputCreate:null,tags:[],history:[],searchTarget:null,searchResults:!1,form:{title:"",description:""},search:{target:""}}},created(){},mounted(){this.getAll()},computed:{filteredResources(){return this.search.target?this.data.filter(a=>a.data.title.toLowerCase().startsWith(this.search.target.toLowerCase())):this.data}},methods:{openNew(){$("#staticBackdrop4").modal("show")},save(){const a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),data:this.form})};fetch(window.ENDPOINT+"/admin/tags/default/create",a).then(e=>e.json()).then(e=>{this.$toast.success("La etiqueta fue creada correctamente..",{position:"bottom-right"}),this.getAll(),$("#staticBackdrop4").modal("hide")})},removeAction(a){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),id:a})};fetch(window.ENDPOINT+"/tags/default/delete",e).then(o=>o.json()).then(o=>{this.$toast.success("La etiqueta fue eliminada correctamente..",{position:"bottom-right"}),this.getAll()})},getAll(){this.$Progress.start(),localStorage.getItem("auth");const a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth")})};fetch(window.ENDPOINT+"/admin/tags/default/get/all",a).then(e=>e.json()).then(e=>{e.empty?this.data=[]:this.data=e,this.$Progress.finish()})}}},nt=Object.assign(tt,{setup(a){return(e,o)=>{const u=b("component");return i(),n(g,null,[m(x),t("main",null,[t("div",k,[t("div",D,[t("div",N,[m(w)]),t("div",C,[t("div",T,[O,t("button",{type:"submit",class:"btn btn-primary",style:{width:"auto",position:"relative","z-index":"1000"},onClick:o[0]||(o[0]=d(s=>e.openNew(),["prevent"]))},"A\xF1adir nuevo")]),e.data.length==0?(i(),n("div",S,I)):r("",!0),e.data.length>0?l((i(),n("input",{key:1,type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>e.search.target=s),style:{"border-radius":"30px !important",border:"1px solid rgb(199, 199, 199) !important",background:"rgb(231, 231, 231) !important","padding-left":"20px","margin-top":"20px","margin-bottom":"20px","font-weight":"600","font-size":"13px"},placeholder:"Buscar por titulo..."},null,512)),[[c,e.search.target]]):r("",!0),e.data.length>0?(i(),n("table",A,[P,t("tbody",null,[(i(!0),n(g,null,y(e.filteredResources,s=>(i(),n("tr",null,[t("td",q,[t("span",L,p(s._id),1)]),t("td",j,[t("b",null,p(s.data.title),1)]),t("td",E,[s.data.description?(i(),f(u,{key:0},{default:_(()=>[h(p(s.data.description),1)]),_:2},1024)):r("",!0),s.data.description?r("",!0):(i(),f(u,{key:1},{default:_(()=>[V]),_:1}))]),t("td",z,[t("a",{href:"#",onClick:d(et=>e.removeAction(s._id),["prevent"]),style:{"font-weight":"500","margin-left":"15px"}},U,8,F)])]))),256))])])):r("",!0)])])])]),t("div",M,[t("div",H,[t("form",{class:"modal-content",onSubmit:o[5]||(o[5]=d(s=>e.modalDeleteFolder(),["prevent"])),style:{"border-radius":"10px",border:"none"}},[W,t("div",G,[t("div",K,[Q,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>e.form.title=s),style:{border:"1px solid #DDDDDD","border-radius":"5px",height:"30px",padding:"5px","max-height":"30px","min-height":"36px",background:"transparent"}},null,512),[[c,e.form.title]])]),t("div",X,[Y,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>e.form.description=s),style:{border:"1px solid #DDDDDD","border-radius":"5px",height:"30px",padding:"5px","max-height":"30px","min-height":"36px",background:"transparent"}},null,512),[[c,e.form.description]])])]),t("div",Z,[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"},onClick:o[4]||(o[4]=s=>e.save())},"Crear etiqueta")])],32)])])],64)}}});export{nt as default};
