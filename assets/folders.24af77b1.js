import{r as O,j as k,o as a,c as d,a as _,b as t,G as b,k as h,l as p,m as f,A as r,F as g,D as y,u as T,H as m,x,w as C,M,N as w,n as v,p as j}from"./vendor.3ce90362.js";import{_ as F}from"./admin-add.c0a05d7b.js";import{_ as D}from"./boligrafo.1cbc6d81.js";import{_ as E,a as I,b as q}from"./expandir.532577ce.js";import{a as z,_ as A,b as L}from"./descargar.fa43ec5f.js";import{_ as N}from"./boton-agregar.c9c97214.js";import{E as J}from"./Editor.e4eec21a.js";import{a as B}from"./index.90840984.js";import{_ as R}from"./DocumentDropdown.3ac4bf8a.js";import{n as V,c as H}from"./navbar.3dc83e26.js";import{T as S}from"./vuejs-tree.common.02dd7996.js";import{b as P}from"./share-button-document-private.64c6d8db.js";import"./edit.dc69b3f2.js";import"./Logocompleto.3df4452e.js";import"./cuota.edac84f3.js";const U={class:"container-fluid"},G={class:"row"},X={class:"col-md-2",style:{height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",padding:"0"}},Y={class:"col-md-10",style:{height:"calc(100vh - 70px)",border:"1px solid #e2e2e2",position:"relative"}},W={class:"row"},K={class:"col-md-3",style:{"padding-right":"0px","padding-left":"0px",position:"relative",overflow:"hidden","overflow-y":"auto",height:"calc(100vh - 70px)"}},Q={class:"nav nav-tabs nav-justified"},Z={class:"nav-item"},ee={class:"nav-item"},te={class:"tab-content",id:"myTabContent"},se={class:"col-12 text-center",style:{"padding-top":"8.5px","padding-bottom":"8.5px","border-bottom":"1px solid #e5e5e5"}},oe={class:"col-12",style:{"padding-top":"10px","padding-bottom":"0"}},ie={key:0,class:"spinner-border spinner-border-sm",role:"status"},ne=t("span",{class:"sr-only"},"Loading...",-1),ae=[ne],de={key:1,style:{padding:"0",margin:"0",width:"100%","list-style":"none"}},re=["onClick"],le={href:"#",style:{color:"black","font-weight":"600"}},he={class:"col-12",style:{"padding-top":"10px","padding-bottom":"10px"}},ce=t("img",{src:F,style:{width:"20px"}},null,-1),pe=v(" Nueva carpeta raiz"),ue=[ce,pe],me=t("hr",null,null,-1),ge=t("hr",null,null,-1),fe={key:0,style:{"font-size":"12px","font-weight":"500"}},ye={class:"col-12 text-center",style:{"padding-top":"8.5px","padding-bottom":"8.5px","border-bottom":"1px solid #e5e5e5"}},ve={class:"col-12",style:{"padding-top":"10px","padding-bottom":"10px"}},be={key:0,class:"spinner-border spinner-border-sm",role:"status"},_e=t("span",{class:"sr-only"},"Loading...",-1),xe=[_e],Te=t("hr",null,null,-1),we={key:1,href:"#",style:{"font-size":"13px","font-weight":"600"}},De={key:2,class:"col-12 text-center",style:{"padding-top":"8.5px","padding-bottom":"8.5px","border-bottom":"1px solid #e5e5e5"}},Se={style:{padding:"0px","list-style":"none",width:"100%",display:"flex","justify-content":"flex-start","align-items":"center","flex-direction":"column","align-content":"flex-start"}},Pe={href:"#",style:{"font-size":"12px",padding:"5px",background:"rgb(234, 234, 234)","border-radius":"30px",display:"flex","place-content":"flex-start","align-items":"center","flex-direction":"row","padding-left":"10px","padding-right":"10px"}},Ne=["onClick"],Oe=t("i",{class:"fas fa-times"},null,-1),$e=[Oe],ke={key:3,class:"col-12 text-left",style:{padding:"0"}},Ce={style:{padding:"0px","list-style":"none",width:"100%",display:"flex","justify-content":"flex-start","align-items":"center","flex-direction":"column","align-content":"flex-start"}},Me={href:"#",style:{"font-size":"12px","padding-top":"5px","padding-bottom":"5px",background:"rgb(206, 206, 206)","border-radius":"30px",display:"flex","place-content":"flex-start","align-items":"center","flex-direction":"row","font-weight":"600","padding-left":"10px","padding-right":"10px"}},je=["onClick"],Fe=t("i",{class:"fas fa-times"},null,-1),Ee=[Fe],Ie=t("hr",null,null,-1),qe={style:{padding:"0",margin:"0",width:"100%","list-style":"none"}},ze=["onClick"],Ae={href:"#",style:{color:"black","font-weight":"600","font-size":"12px"}},Le={class:"col-md-3",style:{"border-left":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6",padding:"0",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",position:"relative"}},Je={key:0,class:"spinner-border spinner-border-sm",role:"status",style:{position:"absolute"}},Be=t("span",{class:"sr-only"},"Loading...",-1),Re=[Be],Ve=["onClick","onContextmenu"],He={key:0,class:"col-12",style:{padding:"0"}},Ue={class:"edit-mode"},Ge=["onClick"],Xe=["onSubmit"],Ye=["onUpdate:modelValue"],We=t("button",{type:"submit",hidden:"true"},null,-1),Ke={key:2,class:"edit-mode",style:{color:"#525252","font-size":"12px"}},Qe=["onClick"],Ze=["onSubmit"],et=["onUpdate:modelValue"],tt=t("button",{type:"submit",hidden:"true"},null,-1),st={style:{position:"absolute:top:0:right:0",height:"100%"}},ot={key:0,src:E,style:{height:"20px",width:"20px"}},it={key:1,src:I,style:{height:"20px",width:"20px"}},nt={key:2,src:A,style:{height:"20px",width:"20px"}},at={key:3},dt=["onClick"],rt={class:"col-md-6 scroll-size-medium",style:{"border-left":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6",padding:"0",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",position:"relative"}},lt={key:0,class:"spinner-border spinner-border-sm",role:"status",style:{position:"absolute"}},ht=t("span",{class:"sr-only"},"Loading...",-1),ct=[ht],pt={key:1,class:"col-12",style:{padding:"10px"}},ut={class:"row"},mt={class:"col-md-8"},gt={class:"col-md-4 text-right"},ft=t("img",{src:q,style:{width:"14px",height:"14px","margin-right":"5px"}},null,-1),yt=[ft],vt={class:"dropdown",style:{margin:"5px",display:"inline"}},bt=t("button",{class:"btn btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-expanded":"false"},[t("img",{src:L,style:{width:"14px",height:"14px","margin-right":"5px"}})],-1),_t={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},xt=["innerHTML"],Tt={style:{padding:"0",margin:"0","list-style":"none"}},wt={style:{padding:"0",margin:"0","list-style":"none","padding-top":"6px","padding-bottom":"6px","border-bottom":"1px solid rgb(225 225 225 / 48%)"}},Dt={style:{padding:"0",margin:"0","list-style":"none","padding-top":"6px","padding-bottom":"6px"}},St={class:"modal fade",id:"compartir-privada",tabindex:"-1",role:"dialog","aria-labelledby":"report-contentTitle","aria-hidden":"true"},Pt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Nt={class:"modal-content",style:{"border-radius":"10px",border:"none"}},Ot=t("div",{class:"modal-header text-center",style:{background:"#dedcdc",color:"#454545","border-top-left-radius":"10px","border-top-right-radius":"10px"}},[t("h5",{class:"modal-title",style:{"font-size":"15px","font-weight":"600","text-align":"center !important",display:"block !important",width:"100%"}}," Compartir en forma privada "),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),$t={class:"modal-body"},kt={class:"col-md-12",style:{background:"#f2f2f2",color:"#141414","font-weight":"600","text-align":"left",padding:"20px","margin-bottom":"10px"}},Ct=v(" Escrib\xED el mail de registro del usuario al que quer\xE9s dar acceso "),Mt={class:"col-12 text-center"},jt={class:"modal fade",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ft={class:"modal-dialog modal-dialog-centered modal-sm"},Et=t("div",{class:"modal-header text-center"},[t("h5",{class:"modal-title"},"Nueva carpeta"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),It={class:"modal-body"},qt=t("div",{class:"modal-footer",style:{border:"none"}},[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"}}," Crear carpeta ")],-1),zt={class:"modal fade",id:"staticBackdrop2","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},At={class:"modal-dialog modal-dialog-centered modal-sm"},Lt=t("div",{class:"modal-header text-center"},[t("h5",{class:"modal-title"},"Nueva carpeta"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),Jt={class:"modal-body"},Bt=t("div",{class:"modal-footer",style:{border:"none"}},[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"}}," Guardar ")],-1),Rt={class:"modal fade",id:"staticBackdrop4","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vt={class:"modal-dialog modal-dialog-centered modal-lg"},Ht=j('<div class="modal-header text-center"><h5 class="modal-title">Eliminar carpeta</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body text-danger"> Esta accion no se puede deshacer </div><div class="modal-footer" style="border:none;"><button type="submit" class="btn btn-primary" style="font-size:15px;"> Eliminar </button></div>',3),Ut=[Ht],Gt={class:"modal fade",id:"moveDocumentTofolder","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xt={class:"modal-dialog modal-dialog-centered modal-lg"},Yt={class:"modal-header text-center"},Wt=t("h5",{class:"modal-title"},"Asignar carpeta",-1),Kt=t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),Qt=t("hr",null,null,-1),Zt={key:0,style:{padding:"0px","list-style":"none",width:"100%",display:"flex","justify-content":"flex-start","align-items":"center","flex-direction":"column","align-content":"flex-start"}},es={href:"#",style:{"font-size":"12px",padding:"5px",background:"rgb(234, 234, 234)","border-radius":"30px",display:"flex","place-content":"flex-start","align-items":"center","flex-direction":"row","padding-left":"10px","padding-right":"10px"}},ts=["onClick"],ss=t("i",{class:"fas fa-times"},null,-1),os=[ss],is=t("div",{class:"modal-footer",style:{border:"none"}},[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"}}," Guardar ")],-1),ns={class:"modal fade FullScreenModal",id:"FullScreenModal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},as={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable",role:"document"},ds={class:"modal-content"},rs=t("div",{class:"modal-header text-center"},[t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),ls={class:"modal-body"},hs={class:"container-fluid"},cs={key:0,class:"col-12",style:{padding:"10px"}},ps={class:"row"},us={class:"col-md-8"},ms={class:"col-md-4 text-right"},gs=["innerHTML"],fs={class:"modal fade",id:"ModalAddTags","data-backdrop":"static","data-keyboard":"true",tabindex:"-1","aria-hidden":"true"},ys={class:"modal-dialog modal-dialog-centered"},vs=t("div",{class:"modal-header text-center"},[t("h5",{class:"modal-title"},"Agregar etiquetas"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),bs={class:"modal-body",style:{height:"20vh"}},_s={style:{margin:"16px 0"}},xs=["onClick"],Ts={style:{"margin-bottom":"0","font-size":"14px"}},ws=t("img",{src:N,style:{width:"20px",height:"20px"}},null,-1),Ds={class:"col-12",style:{"padding-top":"0px"}},Ss=t("h4",{style:{"font-weight":"bold","text-align":"left","font-size":"17px"}}," Asignale al documento como minimo tres etiquetas ",-1),Ps={key:0,style:{margin:"16px 0"}},Ns=["onClick"],Os={style:{"margin-bottom":"0","font-size":"14px"}},$s=t("img",{src:N,style:{width:"20px",height:"20px"}},null,-1),ks=t("div",{class:"modal-footer",style:{border:"none"}},[t("button",{type:"submit",class:"btn btn-primary",style:{"font-size":"15px"}}," Guardar ")],-1),Cs={key:0,style:{display:"flex",top:"0px",left:"0px",right:"0px",position:"fixed",bottom:"0","align-content":"center","justify-content":"center","align-items":"center"}},Ms={style:{color:"rgb(52, 52, 52)",width:"355px",right:"180px","font-size":"14px","border-radius":"8px","font-weight":"600",background:"#e7e7e7",padding:"10px"}},js=t("span",{"aria-hidden":"true"},"\xD7",-1),Fs=[js],Es=v(' El escrito automatizado se guardara en tu carpeta privada "Mis escritos". \xBFQueres compartirlo con la comunidad legal? '),Is={class:"col-12 text-right",style:{display:"flex"}},qs=["disabled"],zs={key:0},As={key:1,class:"spinner-border spinner-border-sm",role:"status",style:{height:"10px",margin:"0px",padding:"0px",width:"10px !important",color:"white","margin-top":"-10px !important"}},Ls=t("span",{class:"sr-only"},"Loading...",-1),Js=[Ls],Bs=["disabled"],Rs={key:0},Vs={key:1,class:"spinner-border spinner-border-sm",role:"status",style:{height:"10px",margin:"0px",padding:"0px",width:"10px !important",color:"white","margin-top":"-10px !important"}},Hs=t("span",{class:"sr-only"},"Loading...",-1),Us=[Hs],Gs={components:{DocumentDropdown:R,editor:J},data(){return{auth:localStorage.getItem("auth"),endpoint:window.ENDPOINT+"/library/get/folders",endpointDocuments:window.ENDPOINT+"/library/get/folders/documents",endpointDocument:window.ENDPOINT+"/library/get/document",endpointGetAll:window.ENDPOINT+"/library/get/documents",endpointTextPreview:window.ENDPOINT+"/library/fields/preview",endpointSaveFolders:window.ENDPOINT+"/library/save/folders",endpointMoveSave:window.ENDPOINT+"/library/save/folders/organize",endpointDeleteDocument:window.ENDPOINT+"/library/delete/documents",endpointSavePrivateTags:window.ENDPOINT+"/private/save/tags",endpointOrganizePrivateTags:window.ENDPOINT+"/private/save/tags/organize",endpointGetPrivateTags:window.ENDPOINT+"/private/get/tags",endpointSave:window.ENDPOINT+"/library/folders/edit",editor_enabled:!1,items:[],valEmail:null,documents:[],loadingFolders:!0,loadingDocument:!1,tagsSelected:[],endpointTags:window.ENDPOINT+"/library/get/tags",endpointTaggedDocuments:window.ENDPOINT+"/library/get/tags/documents",endpointTaggedPrivateDocuments:window.ENDPOINT+"/private/get/tags/documents",itemsTags:[],itemsTagsPrivate:[],tags:[],tagSelected:[],newTagName:"",documentsSearchTags:[],documentsTags:[],loadingTags:!0,tagsSelectedTags:[],contentDocument:"",activeDocumentId:null,popshared:!1,documentModal:{data:{title:null,description:null,complete:0,fields:[],content:null}},document:{data:{title:null,description:null,complete:0}},searchTarget:{target:null},editField:{index:null,id:null,enabled:!1},temp:{editFont:"Arial",index:null,node:null},treeDisplayData:[],treeDisplayData2:[],nameNewFolder:{title:null},nameEditFolder:{title:null},showContextMenu:!1,selected:{row:{},action:"",clientX:null,clientY:null},selectedIdDocument:null,selectedIndexDocument:null,pathMoveSelected:null,modalMoveDocument:!1,documentMoveTemp:!1,activeItem:"folders",editDocument:null}},created(){document.addEventListener("click",()=>{this.showContextMenu=!1,this.selected.row={},this.selected.clientX=null,this.selected.clientY=null})},mounted(){this.loadAllDocuments(),this.loadFolders(),this.loadTags(),this.loadFoldersTree2(),this.$route.query.id&&(this.activeDocumentId=this.$route.query.id,this.getDocument(this.$route.query.id))},computed:{fixerEditMode(){for(var o=this.documents.length-1;o>=0;o--)this.documents[o]._ext={edit_title:!1,edit_description:!1};return this.documents},filteredResourcesPrivateTags(){return this.searchTarget.target?(this.searchDocuments(),this.itemsTagsPrivate.filter(o=>o.data.name.toLowerCase().startsWith(this.searchTarget.target.toLowerCase()))):this.itemsTagsPrivate},filteredResourcesTags(){return this.searchTarget.target?(this.searchDocuments(),this.itemsTags.filter(o=>o.data.title.toLowerCase().startsWith(this.searchTarget.target.toLowerCase()))):this.itemsTags},filteredResources(){return this.searchTarget.target?this.items.filter(o=>(console.log(o.text.startsWith(this.searchTarget.target)),o.text.toLowerCase().startsWith(this.searchTarget.target.toLowerCase()))):this.items},myCustomStyles(){return{tree:{style:{height:"auto",maxHeight:"300px",overflowY:"visible",display:"inline-block",textAlign:"left"}},editNode:{class:"button-edit-tree",style:{color:"#EE5F5B"}},row:{style:{width:"500px",cursor:"pointer"},child:{class:"",style:{height:"35px"},active:{style:{height:"35px"}}}},rowIndent:{paddingLeft:"20px"},text:{style:{"font-weight":"600","font-size":"12px"},active:{style:{"font-weight":"bold",color:"#1200FF","font-size":"12px"}}}}},myCustomOptions(){return{treeEvents:{expanded:{state:!0,fn:o=>{this.getChilds(o)}},collapsed:{state:!0},selected:{state:!1,fn:this.mySelectedFunction},checked:{state:!1,fn:this.myCheckedFunction}},events:{expanded:{state:!0},selected:{state:!0},checked:{state:!0},editableName:{state:!0,calledEvent:"expanded"}},addNode:{state:!0,fn:this.addNodeFunction,appearOnHover:!0},editNode:{state:!0,fn:this.deleteFolder,appearOnHover:!0},deleteNode:{state:!0,fn:o=>{this.getDocumentsFromFolder(o.id)},appearOnHover:!0},showTags:!0}},myCustomStyles2(){return{tree:{style:{height:"auto",maxHeight:"300px",overflowY:"visible",display:"inline-block",textAlign:"left"}},deleteNode:{class:"button-move-tree",style:{color:"#EE5F5B"}},row:{style:{width:"500px",cursor:"pointer"},child:{class:"",style:{height:"35px"},active:{style:{height:"35px"}}}},rowIndent:{paddingLeft:"20px"},text:{style:{"font-weight":"600","font-size":"12px"},active:{style:{"font-weight":"bold",color:"#1200FF","font-size":"12px"}}}}},myCustomOptions2(){return{treeEvents:{expanded:{state:!0,fn:o=>{this.getChildsTree2(o)}},collapsed:{state:!0},selected:{state:!1,fn:this.mySelectedFunction},checked:{state:!1,fn:this.myCheckedFunction}},events:{expanded:{state:!0},selected:{state:!0},checked:{state:!0},editableName:{state:!0,calledEvent:"expanded"}},addNode:{state:!1,class:"add_icon",style:{color:"red"},fn:this.addNodeFunction,appearOnHover:!0},editNode:{state:!1,fn:null,appearOnHover:!0},deleteNode:{state:!0,fn:this.selectPathMove,appearOnHover:!1}}}},methods:{onReadyCK(o){},goEditDocumentPrivate(o){localStorage.setItem("editDocumentPrivate",JSON.stringify(o)),console.log(o),this.$router.push({name:"document-edit",params:{id:o._id}})},saveShare(o,e){console.log(this.data),o==1?(this.saveLoadingShare=!0,this.saveLoadingNtShareDisabled=!0,this.saveLoadingShareDisabled=!0,this.$router.push({name:"document-organize",params:{id:e}})):(this.saveLoadingNtShare=!0,this.saveLoadingShareDisabled=!0,this.saveLoadingNtShareDisabled=!0,this.popshared=!1,setTimeout(()=>{this.$router.push({name:"librarie",params:{id:e}})},700),this.$toast.success("El documento ahora es publico",{position:"bottom-right"}))},searchDocuments(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,target:this.searchTarget.target})};fetch(this.endpointSearch,o).then(e=>e.json()).then(e=>{if(e.length>0){if(e.length>0)for(var s=e.length-1;s>=0;s--)e[s]._ext={edit_title:!1,edit_description:!1};this.documentsTags=e,this.$Progress.finish()}this.$Progress.finish()})},removeTag(o){this.tagSelected.splice(o,1)},selectTag(o){this.tagSelected.length<5?this.tagSelected.push(this.tags[o]):this.$toast.show("Solo puedes seleccionar 5 etiquetas",{position:"bottom-right"})},searchTags(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,search:this.searchInputTags.target})};fetch(this.endpointTags,o).then(e=>e.json()).then(e=>{e=={}?this.tags=[]:(this.tags=e,console.log("soytags"))})},isActive(o){return this.activeItem===o},setActive(o){this.activeItem=o},openFullScreen(){$(".FullScreenModal").modal("show")},openModalMoveDocument(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:this.selectedIdDocument})};fetch(window.ENDPOINT+"/library/get/document",o).then(e=>e.json()).then(e=>{this.documentMoveTemp=e,$("#moveDocumentTofolder").modal("show")})},getTags(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:{type:"library"}})};fetch(this.endpointGetPrivateTags,o).then(e=>e.json()).then(e=>{this.itemsTagsPrivate=e,this.$Progress.finish(),this.tags=e})},openCreateTagModal(){$("#ModalAddTags").modal("show")},createNewTag(o){this.$Progress.start();const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:{name:o,type:"library"}})};fetch(this.endpointSavePrivateTags,e).then(s=>s.json()).then(s=>{this.$Progress.finish(),this.newTagName="",this.$toast.success("Crear con \xE9xito nuevas etiquetas",{position:"bottom-right"}),$("#ModalAddTags").modal("hide")})},insertDocumentTags(o,e){this.$Progress.start();const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:{name:e.map(n=>n.data.name),documentId:o,type:"library"}})};fetch(this.endpointOrganizePrivateTags,s).then(n=>n.json()).then(n=>{this.$Progress.finish(),this.tagSelected=[],this.$toast.success("Crear con \xE9xito nuevas etiquetas",{position:"bottom-right"}),$("#ModalAddTags").modal("hide")})},openCreateFolderRootModal(){$("#staticBackdrop").modal("show")},saveEditMode(o,e){const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:o,data:{title:this.documents[e].data.title,description:this.documents[e].data.description}})};fetch(window.ENDPOINT+"/library/edit",s).then(n=>n.json()).then(n=>{this.documents[e]._ext.edit_title=!1,this.documents[e]._ext.edit_description=!1,this.$Progress.finish(),this.$toast.success("Documento editado",{position:"bottom-right"}),this.document._id==o&&(this.document.data.title=this.documents[e].data.title,this.document.data.description=this.documents[e].data.description)})},actionTeste(o,e){if(e=="font"){document.execCommand("fontName",!1,this.temp.editFont);return}switch(e){case"h1":case"h2":case"p":document.execCommand("formatBlock",!1,e);break;default:document.execCommand(e,!1,null);break}},download(o,e,s){var n=document.createElement("a");n.setAttribute("href",o),n.setAttribute("download",e),n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},exportPDF(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:this.activeDocumentId})};fetch(window.ENDPOINT+"/writings/export/pdf",o).then(e=>e.json()).then(e=>{this.$toast.show("Descargando",{position:"bottom-right"}),this.download(window.ENDPOINTEXPORTS+"/"+e.name,e.name,"data:application/pdf"),this.$Progress.finish(),console.log(e)})},exportWord(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:this.activeDocumentId})};fetch(window.ENDPOINT+"/writings/export/word",o).then(e=>e.json()).then(e=>{this.$toast.show("Descargando",{position:"bottom-right"}),this.download(window.ENDPOINTEXPORTS+"/"+e.name,e.name,"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document"),this.$Progress.finish(),console.log(e)})},createDocument(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:this.documentModal._id,doc_original:this.documentModal._id,fields:this.documentModal.data.fields,content:this.documentModal.data.content})};fetch(window.ENDPOINT+"/writings/document/create/writing",o).then(e=>e.json()).then(e=>{if(this.tagsSelected.length>0){const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,tags:this.tagsSelected})};fetch(this.endpointDocuments,s).then(n=>n.json()).then(n=>{console.log(n),n.error==!0||(this.documents=n,this.loadingDocuments=!1)})}else this.loadAllDocuments();this.$Progress.finish(),this.$toast.success("Documento creado correctamente",{position:"bottom-right"}),$("#exampleModalLong").modal("hide")})},previewText(o=null){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:this.documentModal._id,fields:this.documentModal.data.fields})};fetch(this.endpointTextPreview,e).then(s=>s.json()).then(s=>{this.documentModal.data.content=s.content})},openModalAddTags(){$("#ModalAddTags").modal("show")},openmodalcomplete(){$("#exampleModalLong").modal("show"),this.previewText()},loadTags(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth})};fetch(this.endpointTags,o).then(e=>e.json()).then(e=>{if(e.empty){this.loadingTags=!1,this.itemsTags=[],this.$Progress.finish();return}e.error==!0||(B("data.title",e),this.itemsTags=e,this.loadingTags=!1,this.$Progress.finish())})},loadAllDocuments(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth})};fetch(this.endpointGetAll,o).then(e=>e.json()).then(e=>{if(e.length==0){this.loadingDocuments=!1,this.documents=[],this.$Progress.finish();return}this.documents=e,this.$Progress.finish()})},search(){if(this.searchTarget.target==""){this.loadAllDocuments();return}this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,target:this.searchTarget.target})};fetch(window.ENDPOINT+"/library/search",o).then(e=>e.json()).then(e=>{if(e.length==0){this.loadingDocuments=!1,this.documents=[],this.$Progress.finish();return}this.loadingDocuments=!1,this.documents=e,this.$Progress.finish()})},removeFilterTag(o,e){if(this.$Progress.start(),delete this.tagsSelected[o],this.tagsSelected=this.tagsSelected.filter(function(n){return typeof n!="undefined"}),this.tagsSelected.length==0){this.loadAllDocuments();return}const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,tags:this.tagsSelected})};fetch(this.endpointDocuments,s).then(n=>n.json()).then(n=>{if(n.empty){this.loadingDocuments=!1,this.documents=[],this.$Progress.finish();return}n.error==!0||(this.documents=n,this.$Progress.finish())})},getDocumentModal(o){this.$Progress.start(),this.activeDocumentId=o,this.loadingDocument=!0;const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:o})};fetch(this.endpointDocument,e).then(s=>s.json()).then(s=>{if(s.code){this.document=!1,this.loadingDocument=!1,this.$Progress.finish();return}if(s.empty){this.document=!1,this.loadingDocument=!1,this.$Progress.finish();return}if(s.error!=!0){if(s.data.complete==0){if(this.editor_enabled=!1,s.data.form_complete){this.documentModal=s,this.contentDocument=s.data.content,this.loadingDocument=!1,this.$Progress.finish(),this.openmodalcomplete();return}}else this.editor_enabled=!0;this.$Progress.finish()}})},removeFilterTags(o,e){if(this.$Progress.start(),delete this.tagsSelectedTags[o],this.tagsSelectedTags=this.tagsSelectedTags.filter(function(n){return typeof n!="undefined"}),this.tagsSelectedTags.length==0){this.loadAllDocuments();return}const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,tags:this.tagsSelectedTags})};fetch(this.endpointTaggedDocuments,s).then(n=>n.json()).then(n=>{if(n.empty){this.documents=[],this.loadingDocuments=!1,this.$Progress.finish();return}if(n.error!=!0){if(n.length>0)for(var u=n.length-1;u>=0;u--)n[u]._ext={edit_title:!1,edit_description:!1};this.documents=n,this.$Progress.finish()}})},getDocument(o){this.$Progress.start(),this.activeDocumentId=o,this.loadingDocument=!0;const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:o})};fetch(this.endpointDocument,e).then(s=>s.json()).then(s=>{if(s.code){this.document=!1,this.loadingDocument=!1,this.$Progress.finish();return}if(s.empty){this.document=!1,this.loadingDocument=!1,this.$Progress.finish();return}s.error==!0||(s.data.complete==0?(this.editor_enabled=!1,this.document=s,this.contentDocument=null,this.loadingDocument=!1,this.$Progress.finish()):(this.editor_enabled=!0,this.document=s,this.contentDocument=s.data.content,this.contentDocument=s.data.content.replace("http://","https://"),this.loadingDocument=!1,this.$Progress.finish()))})},getDocumentsByTagPrivate(o,e){this.$Progress.start(),this.tagsSelected.push({text:e,id:o}),this.loadingDocuments=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,tags:this.tagsSelected,data:{name:this.tagsSelected.map(n=>n.text),type:"library"}})};fetch(this.endpointTaggedPrivateDocuments,s).then(n=>n.json()).then(n=>{if(n.empty){this.loadingDocuments=!1,this.documents=[],this.$Progress.finish();return}n.error==!0||(this.documents=n,this.loadingDocuments=!1,this.$Progress.finish())})},getDocumentsByTag(o,e){this.$Progress.start(),this.tagsSelected.push({text:e,id:o}),this.loadingDocuments=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,tags:this.tagsSelected})};fetch(this.endpointTaggedDocuments,s).then(n=>n.json()).then(n=>{if(n.empty){this.loadingDocuments=!1,this.documents=[],this.$Progress.finish();return}n.error==!0||(this.documents=n,this.loadingDocuments=!1,this.$Progress.finish())})},openCompartirPrivada(){$("#compartir-privada").modal("show")},loadFolders(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth})};fetch(this.endpoint,o).then(e=>e.json()).then(e=>{console.log(e),setTimeout(()=>{if(e.empty){this.treeDisplayData=[],this.loadingFolders=!1;return}e.error==!0||(this.treeDisplayData=this.prepareArray(e),this.loadingFolders=!1)},200)})},loadFoldersTree2(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth})};fetch(this.endpoint,o).then(e=>e.json()).then(e=>{console.log(e),setTimeout(()=>{if(e.empty){this.treeDisplayData2=[],this.loadingFolders=!1;return}e.error==!0||(this.treeDisplayData2=this.prepareArray(e),this.loadingFolders=!1)},200)})},compartirPrivado(o){const e=JSON.parse(localStorage.getItem("user"));console.log(e);const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,documentId:this.document._id,firstName:e.profile.firstname,lastName:e.profile.lastname})};fetch(window.ENDPOINT+"/librarie/share/private",s).then(n=>n.json()).then(n=>{this.$toast.success("Se envio por email.",{position:"bottom-right"})})},getDocumentsFromFolder(o,e){this.lastnodeId=o,this.$Progress.start(),this.loadingDocuments=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,folders:o})};fetch(this.endpointDocuments,s).then(n=>n.json()).then(n=>{console.log(n),setTimeout(()=>{if(n.empty){this.loadingDocuments=!1,this.documents=[],this.$Progress.finish();return}n.error==!0||(this.documents=n,this.loadingDocuments=!1,this.$Progress.finish())},200)})},mySelectedFunction:function(o,e){console.log(`is ${o} selected ? ${e}`),console.log(this.$refs["my-tree"].getSelectedNode())},selectPathMoveSave(){this.$Progress.start(),console.log(this.selectedIdDocument);const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,folders:this.documentMoveTemp.data.categories,id:this.selectedIdDocument})};fetch(this.endpointMoveSave,o).then(e=>e.json()).then(e=>{console.log(e),this.modalMoveDocument=!1,this.$Progress.finish(),this.$toast.success("El documento fue movido correctamente",{position:"bottom-right"}),$("#moveDocumentTofolder").modal("hide")})},pathMoveSelectedRemove(o,e){delete this.pathMoveSelected[o],this.pathMoveSelected=this.pathMoveSelected.filter(function(s){return typeof s!="undefined"})},removeFolderInModal(o,e=null){delete this.documentMoveTemp.data.categories[o],this.documentMoveTemp.data.categories=this.documentMoveTemp.data.categories.filter(function(s){return typeof s!="undefined"})},selectPathMove(o){this.documentMoveTemp.data.categories.push({id:o.id,text:o.text})},deleteDocument(){this.$Progress.start(),console.log(this.selectedIdDocument);const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:this.selectedIdDocument})};fetch(this.endpointDeleteDocument,o).then(e=>e.json()).then(e=>{this.$Progress.finish(),this.$toast.success("Documento eliminado",{position:"bottom-right"}),delete this.documents[this.selectedIndexDocument],this.documents=this.documents.filter(function(s){return typeof s!="undefined"})})},addNodeFunction:function(o){$("#staticBackdrop2").modal("show"),this.modalCreateNode=o},createFolder(){this.$Progress.start();const o={text:this.nameNewFolder.title,id:Math.floor(Math.random()*100),state:{checked:!1,selected:!1,expanded:!1},parent:this.modalCreateNode.id},e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:o})};fetch(window.ENDPOINT+"/library/save/folders",e).then(s=>s.json()).then(s=>{this.$Progress.finish(),$("#staticBackdrop2").modal("hide"),this.nameNewFolder={title:null},this.getChilds(this.modalCreateNode.id),this.loadFoldersTree2()})},createFolderRoot(){this.$Progress.start();const o={text:this.nameNewFolder.title,id:Math.floor(Math.random()*100),state:{checked:!1,selected:!1,expanded:!1},nodes:[],parent:null};this.treeDisplayData.push(o);var e=this.treeDisplayData;this.treeDisplayData=[],this.treeDisplayData=e;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:o})};fetch(this.endpointSaveFolders,s).then(n=>n.json()).then(n=>{this.$Progress.finish(),$("#staticBackdrop").modal("hide"),this.nameNewFolder={title:null},this.loadFoldersTree2()})},openContextmenu(o,e,s=null){this.showContextMenu=!0,this.selected.row=e,this.selected.clientX=(o.pageX||o.clientX)+1+"px",this.selected.clientY=(o.pageY||o.clientY)+"px",this.selectedIdDocument=e._id,this.selectedIndexDocument=s,this.pathMoveSelected=e.data.categories},modalDeleteFolder(){const e=this.$refs["my-tree"].findNodePath(this.temp.node.id).slice(-2,-1)[0];if(e===void 0){var s=this.$refs["my-tree"].nodes.findIndex(n=>n.id==this.temp.node.id);this.$refs["my-tree"].nodes.splice(s,1)}else{const n=this.$refs["my-tree"].findNode(e);if(n.nodes===void 0){var s=this.$refs["my-tree"].nodes.findIndex(l=>l.id==this.temp.node.id);this.$refs["my-tree"].nodes.splice(s,1),$("#staticBackdrop4").modal("hide"),this.deleteForlderRequest(this.temp.node.id);return}const u=n.nodes.findIndex(i=>i.id==this.temp.node.id);n.nodes.splice(u,1)}$("#staticBackdrop4").modal("hide"),this.deleteForlderRequest(this.temp.node.id)},deleteFolder(o,e){console.log("deleteforlder",o,e),this.temp={index:e,node:o},$("#staticBackdrop4").modal("show")},deleteForlderRequest(o){this.$Progress.start();var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,id:o})};fetch(window.ENDPOINT+"/library/delete/folders",e).then(s=>s.json()).then(s=>{this.$Progress.finish()})},saveFolders(o=!1){this.$Progress.start();var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:this.treeDisplayData})};if(o)var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,data:this.treeDisplayData,delete:!0,target:this.temp.node})};fetch(this.endpointSave,e).then(s=>s.json()).then(s=>{this.$Progress.finish(),this.pathMoveSelected=[]})},getChilds(o){this.$Progress.start();const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,parent:o})};fetch(window.ENDPOINT+"/library/get/folders/child",e).then(s=>s.json()).then(s=>{s.empty||(this.$refs["my-tree"].findNode(o).nodes=this.prepareArray(s),this.nodeSelect=this.prepareArray(s),this.$Progress.finish())})},getChildsTree2(o){this.$Progress.start();const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.auth,parent:o})};fetch(window.ENDPOINT+"/library/get/folders/child",e).then(s=>s.json()).then(s=>{s.empty||(this.$refs["my-tre-2"].findNode(o).nodes=this.prepareArray(s),this.nodeSelect=this.prepareArray(s),this.$Progress.finish())})},prepareArray(o){for(var e=[],s=o.length-1;s>=0;s--)e.push({id:o[s]._id,text:o[s].data.text,nodes:[{id:"934",text:"Cargando carpetas..",nodes:[],state:{checked:!1,selected:!1,expanded:!1}}],state:{checked:!1,selected:!1,expanded:!1}});return e}}},ho=Object.assign(Gs,{setup(o){return(e,s)=>{const n=O("component"),u=k("tooltip");return a(),d(g,null,[_(V),t("main",null,[t("div",U,[t("div",G,[t("div",X,[_(H)]),t("div",Y,[t("div",W,[t("div",K,[t("ul",Q,[t("li",Z,[t("a",{class:b(["nav-link",{active:e.isActive("folders")}]),onClick:s[0]||(s[0]=h(i=>e.setActive("folders"),["prevent"]))},"Carpetas",2)]),t("li",ee,[t("a",{class:b(["nav-link",{active:e.isActive("tags")}]),onClick:s[1]||(s[1]=h(i=>e.setActive("tags"),["prevent"]))},"Etiquetas",2)])]),t("div",te,[t("div",{class:b(["tab-pane fade",{"active show":e.isActive("folders")}]),id:"folders"},[t("div",se,[p(t("input",{type:"text",class:"form-control type-input-3","onUpdate:modelValue":s[2]||(s[2]=i=>e.searchTarget.target=i),onKeyup:s[3]||(s[3]=i=>e.search()),placeholder:"Buscar..."},null,544),[[f,e.searchTarget.target]])]),t("div",oe,[e.loadingFolders?(a(),d("div",ie,ae)):r("",!0),e.items.length>0?(a(),d("ul",de,[(a(!0),d(g,null,y(e.filteredResources,i=>(a(),d("li",{style:{padding:"0",margin:"0",width:"100%","list-style":"none"},key:e.index,onClick:h(l=>e.getDocumentsByTag(i.id,i.text),["prevent"])},[t("a",le,m(i.text),1)],8,re))),128))])):r("",!0)]),t("div",he,[t("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:s[4]||(s[4]=h(i=>e.openCreateFolderRootModal(),["prevent"]))},ue),me,t("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:s[5]||(s[5]=h(i=>e.loadAllDocuments(),["prevent"]))}," Todos los documentos"),ge,_(T(S),{id:"my-tree-id",ref:"my-tree","custom-options":e.myCustomOptions,"custom-styles":e.myCustomStyles,nodes:e.treeDisplayData},null,8,["custom-options","custom-styles","nodes"]),e.treeDisplayData.length==0?(a(),d("span",fe,"No se encontraron carpetas.")):r("",!0)])],2),t("div",{class:b(["tab-pane fade",{"active show":e.isActive("tags")}]),id:"tags"},[t("div",ye,[p(t("input",{type:"text",class:"form-control type-input-3","onUpdate:modelValue":s[6]||(s[6]=i=>e.searchTarget.target=i),placeholder:"Buscar etiqueta.."},null,512),[[f,e.searchTarget.target]])]),t("div",ve,[e.loadingTags?(a(),d("div",be,xe)):r("",!0),t("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:s[7]||(s[7]=h(i=>e.loadAllDocuments(),["prevent"]))}," Todos los documentos"),Te,e.tagsSelected.length>0?(a(),d("a",we," Filtros:")):r("",!0),e.tagsSelected.length>0?(a(),d("div",De,[t("ul",Se,[(a(!0),d(g,null,y(e.tagsSelected,(i,l)=>(a(),d("li",{style:{width:"100%",display:"flex","justify-content":"flex-start","align-items":"flex-start","flex-direction":"column","align-content":"flex-start","margin-bottom":"5px"},key:l},[t("a",Pe,[v(m(i.text)+" ",1),t("a",{href:"#",style:{"margin-left":"10px"},onClick:c=>e.removeFilterTag(l,i.text)},$e,8,Ne)])]))),128))])])):r("",!0),e.tagsSelectedTags.length>0?(a(),d("div",ke,[t("ul",Ce,[(a(!0),d(g,null,y(e.tagsSelectedTags,(i,l)=>(a(),d("li",{style:{width:"100%",display:"flex","justify-content":"flex-start","align-items":"flex-start","flex-direction":"column","align-content":"flex-start","margin-bottom":"3px"},key:l},[t("a",Me,[v(m(i.title)+" ",1),t("a",{href:"#",style:{"margin-left":"10px"},onClick:c=>e.removeFilterTags(l,i.title)},Ee,8,je)])]))),128))]),Ie])):r("",!0),t("ul",qe,[(a(!0),d(g,null,y(e.filteredResourcesTags,(i,l)=>(a(),d("li",{style:{padding:"0",margin:"0",width:"100%","list-style":"none","line-height":"15px","margin-bottom":"15px","margin-top":"10px"},key:l,onClick:h(c=>e.getDocumentsByTag(i._id,i.data.title),["prevent"])},[t("a",Ae,m(i.data.title),1)],8,ze))),128))])])],2)])]),t("div",Le,[e.loadingDocuments?(a(),d("div",Je,Re)):r("",!0),(a(!0),d(g,null,y(e.fixerEditMode,(i,l)=>(a(),d("div",{class:b(["col-12",{activeDocument:i._id===e.activeDocumentId}]),style:{padding:"15px","border-bottom":"1px solid #e6e6e6",cursor:"pointer",position:"relative"},key:l,onClick:c=>e.getDocument(i._id),onContextmenu:h(c=>e.openContextmenu(c,i,l),["prevent"])},[i._ext.edit_title==!1?(a(),d("div",He,[p((a(),d("span",Ue,[v(m(i.data.title)+" ",1),t("img",{src:D,onClick:h(c=>i._ext.edit_title=!0,["prevent"])},null,8,Ge)])),[[u,"Editar titulo"]])])):r("",!0),i._ext.edit_title?(a(),d("form",{key:1,onSubmit:h(c=>e.saveEditMode(i._id,l),["prevent"]),class:"col-12",style:{padding:"0",display:"flex","margin-bottom":"10px"}},[p(t("input",{type:"text",class:"form-control col-12","onUpdate:modelValue":c=>i.data.title=c,style:{"font-size":"13px","border-radius":"30px",height:"30px","min-height":"30px","max-height":"30px",background:"white","font-weight":"700"}},null,8,Ye),[[f,i.data.title]]),We],40,Xe)):r("",!0),i._ext.edit_description?r("",!0):p((a(),d("p",Ke,[v(m(i.data.description)+" ",1),t("img",{src:D,onClick:h(c=>i._ext.edit_description=!0,["prevent"])},null,8,Qe)])),[[u,"Editar descripci\xF3n"]]),i._ext.edit_description?(a(),d("form",{key:3,onSubmit:h(c=>e.saveEditMode(i._id,l),["prevent"]),class:"col-12",style:{padding:"0px",display:"flex","flex-direction":"row","flex-wrap":"wrap","margin-bottom":"10px"}},[p(t("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>i.data.description=c,style:{"font-size":"12px","border-radius":"8px",height:"fit-content","min-height":"fit-content","max-height":"fit-content",background:"white","margin-bottom":"5px"}},null,8,et),[[f,i.data.description]]),tt],40,Ze)):r("",!0),t("div",st,[i.data.share==0?p((a(),d("img",ot,null,512)),[[u,"Privado"]]):r("",!0),i.data.share==1?p((a(),d("img",it,null,512)),[[u,"Publico"]]):r("",!0),i.data.complete==1?p((a(),d("img",nt,null,512)),[[u,"Automatizado"]]):r("",!0),i.data.complete==0?(a(),d("span",at,[i.data.form_complete?p((a(),d("img",{key:0,src:z,style:{height:"20px",width:"20px",cursor:"pointer"},onClick:c=>e.getDocumentModal(i._id)},null,8,dt)),[[u,"Modelo"]]):r("",!0)])):r("",!0)])],42,Ve))),128))]),t("div",rt,[e.loadingDocument?(a(),d("div",lt,ct)):r("",!0),e.document?(a(),d("div",pt,[t("div",ut,[t("div",mt,[t("b",null,m(e.document.data.title),1)]),t("div",gt,[t("a",{href:"#",style:{margin:"5px"},onClick:s[8]||(s[8]=i=>e.openFullScreen())},yt),e.document.data.complete==1?(a(),x(n,{key:0},{default:C(()=>[t("div",vt,[bt,t("div",_t,[t("a",{class:"dropdown-item",href:"#",onClick:s[9]||(s[9]=h(i=>e.exportWord(),["prevent"]))},"Documento Word"),t("a",{class:"dropdown-item",href:"#",onClick:s[10]||(s[10]=h(i=>e.exportPDF(),["prevent"]))},"Documento PDF")])])]),_:1})):r("",!0),e.document.data.share==1?(a(),x(P,{key:1,id:e.document.data.id_share_comuniy},null,8,["id"])):r("",!0)])])])):r("",!0),t("div",{id:"editor2",style:{width:"100%",padding:"20px",color:"black"},innerHTML:e.contentDocument},null,8,xt)])])])])])]),t("div",{class:"box",onContextmenu:s[13]||(s[13]=i=>e.onContextMenu(i)),style:M([{position:"fixed","z-index":"1000",background:"rgb(248 248 248)",width:"150px",height:"auto",padding:"10px",border:"1px solid rgb(226, 226, 226) !important","border-radius":"6px"},{top:e.selected.clientY,left:e.selected.clientX}])},[t("ul",Tt,[t("li",wt,[t("a",{href:"#",style:{"font-size":"11px","font-weight":"600",color:"black"},onClick:s[11]||(s[11]=i=>e.openModalMoveDocument())},"Mover")]),t("li",Dt,[t("a",{href:"#",style:{"font-size":"11px","font-weight":"600",color:"black"},onClick:s[12]||(s[12]=i=>e.deleteDocument())},"Eliminar")])])],36),t("div",St,[t("div",Pt,[t("div",Nt,[Ot,t("div",$t,[t("div",kt,[Ct,p(t("input",{type:"text","onUpdate:modelValue":s[14]||(s[14]=i=>w(valEmail)?valEmail.value=i:null),style:{height:"30px","min-height":"33px","border-radius":"30px",border:"1px solid rgb(199, 199, 199)",background:"rgb(231, 231, 231)","margin-top":"15px","padding-left":"10px"}},null,512),[[f,e.valEmail]])]),t("div",Mt,[t("button",{type:"submit",class:"btn btn-primary",style:{width:"120px","margin-top":"3vh"},onClick:s[15]||(s[15]=i=>e.compartirPrivado(e.valEmail))}," Compartir ")])])])])]),t("div",jt,[t("div",Ft,[t("form",{class:"modal-content",onSubmit:s[17]||(s[17]=h(i=>e.createFolderRoot(),["prevent"])),style:{"border-radius":"10px",border:"none"}},[Et,t("div",It,[p(t("input",{type:"text",class:"form-control type-input-2","onUpdate:modelValue":s[16]||(s[16]=i=>e.nameNewFolder.title=i),required:"true"},null,512),[[f,e.nameNewFolder.title]])]),qt],32)])]),t("div",zt,[t("div",At,[t("form",{class:"modal-content",onSubmit:s[19]||(s[19]=h(i=>e.createFolder(),["prevent"]))},[Lt,t("div",Jt,[p(t("input",{type:"text",class:"form-control type-input-2","onUpdate:modelValue":s[18]||(s[18]=i=>e.nameNewFolder.title=i),required:"true"},null,512),[[f,e.nameNewFolder.title]])]),Bt],32)])]),t("div",Rt,[t("div",Vt,[t("form",{class:"modal-content",onSubmit:s[20]||(s[20]=h(i=>e.modalDeleteFolder(),["prevent"])),style:{"border-radius":"10px",border:"none"}},Ut,32)])]),t("div",Gt,[t("div",Xt,[t("form",{class:"modal-content",onSubmit:s[21]||(s[21]=h(i=>e.selectPathMoveSave(),["prevent"]))},[t("div",Yt,[Wt,Kt,_(T(S),{"custom-options":e.myCustomOptions2,"custom-styles":e.myCustomStyles2,nodes:e.treeDisplayData2},null,8,["custom-options","custom-styles","nodes"]),Qt,e.documentMoveTemp?(a(),d("ul",Zt,[(a(!0),d(g,null,y(e.documentMoveTemp.data.categories,(i,l)=>(a(),d("li",{style:{width:"100%",display:"flex","justify-content":"flex-start","align-items":"flex-start","flex-direction":"column","align-content":"flex-start","margin-bottom":"5px"},key:l},[t("a",es,[v(m(i.text)+" ",1),t("a",{href:"#",style:{"margin-left":"10px"},onClick:c=>e.removeFolderInModal(l,i.id)},os,8,ts)])]))),128))])):r("",!0)]),is],32)])]),t("div",ns,[t("div",as,[t("div",ds,[rs,t("div",ls,[t("div",hs,[e.document?(a(),d("div",cs,[t("div",ps,[t("div",us,[t("b",null,m(e.document.data.title),1)]),t("div",ms,[e.document.data.share==1?(a(),x(P,{key:0,id:e.document.data.id_share_comuniy},null,8,["id"])):r("",!0)])])])):r("",!0),t("div",{style:{width:"100%",padding:"20px",color:"black"},innerHTML:e.contentDocument},null,8,gs)])])])])]),t("div",fs,[t("div",ys,[t("form",{class:"modal-content",style:{"border-radius":"10px",border:"none"},onSubmit:s[23]||(s[23]=h(i=>e.activeDocumentId?e.insertDocumentTags(e.activeDocumentId,e.tagSelected):e.createNewTag(e.newTagName),["prevent"]))},[vs,t("div",bs,[t("ul",_s,[(a(!0),d(g,null,y(e.tagSelected,(i,l)=>(a(),d("li",{key:i._id,style:{padding:"2px 16px",width:"max-content",display:"flex","column-gap":"6px","align-items":"center","border-radius":"12px",background:"#f6f5f5","border-bottom":"1px solid #e6e6e6","font-size":"12px",color:"black","font-weight":"500"},onClick:c=>e.selectTag(l)},[t("p",Ts,m(i.data.name),1),ws],8,xs))),128))]),t("div",Ds,[Ss,p(t("input",{"onUpdate:modelValue":s[22]||(s[22]=i=>w(newTagName)?newTagName.value=i:null),type:"text",class:"form-control input-search-dashboard",placeholder:"Escribe para agregar una etiqueta"},null,512),[[f,e.newTagName]])]),e.activeDocumentId?(a(),d("div",Ps,[(a(!0),d(g,null,y(e.tags,(i,l)=>(a(),d("div",{key:i._id,style:{padding:"2px 16px",width:"max-content",display:"flex","column-gap":"6px","align-items":"center","border-radius":"12px",background:"#f6f5f5","border-bottom":"1px solid #e6e6e6","font-size":"12px",color:"black","font-weight":"500"},onClick:c=>e.selectTag(l)},[t("p",Os,m(i.data.name),1),$s],8,Ns))),128))])):r("",!0)]),ks],32)])]),e.popshared?(a(),d("div",Cs,[t("div",Ms,[t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:s[24]||(s[24]=i=>e.popshared=!1)},Fs),Es,t("div",Is,[t("button",{class:"btn btn-primary",style:{margin:"5px"},onClick:s[25]||(s[25]=i=>e.saveShare(1)),disabled:e.saveLoadingShareDisabled},[e.saveLoadingShare?r("",!0):(a(),d("span",zs,"Si")),e.saveLoadingShare?(a(),d("div",As,Js)):r("",!0)],8,qs),t("button",{href:"#",class:"btn btn-primary",style:{margin:"5px"},onClick:s[26]||(s[26]=i=>e.saveShare(0)),disabled:e.saveLoadingNtShareDisabled},[e.saveLoadingNtShare?r("",!0):(a(),d("span",Rs,"No")),e.saveLoadingNtShare?(a(),d("div",Vs,Us)):r("",!0)],8,Bs)])])])):r("",!0)],64)}}});export{ho as default};
