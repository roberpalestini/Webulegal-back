import{_,j as v,o as n,c as a,A as h,l as d,k as l,b as e,m as u,F as y,n as g}from"./vendor.3ce90362.js";import{a as b,b as f,c as x,_ as w}from"./etiqueta.f26d8a8f.js";import{_ as k}from"./cuota.edac84f3.js";const T={props:["id"],data(){return{baseurl:window.BASEURL,valUrl:window.BASEURL+"/share/d/"+this.$props.id,temp:{input:null},details:{copy:!1,validate:!1,owner:!1},endpoint:window.ENDPOINT,showToolbar:!1}},created(){},mounted(){setTimeout(()=>{this.init(),this.valUrl=this.baseurl+"/share/d/"+this.$props.id},300)},computed:{},methods:{share(o){var t=this.baseurl+"/share/d/"+this.$props.id;let m="scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=600,height=300,left=100,top=100";if(o==="facebook")var c="https://www.facebook.com/sharer/sharer.php?u=";if(o==="twitter")var c="https://twitter.com/intent/tweet?url=";if(o==="pinterest")var c="https://pinterest.com/pin/create/button/?url=";if(o==="linkedin")var c="https://www.linkedin.com/shareArticle?mini=true&url=";if(o==="whatsapp")var c="whatsapp://send?text=";window.open(c+t,"test",m)},openShareContent(){$("#social-share-content").modal("show")},save(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"documents",message:this.temp.input,id:this.$props.id,auth:localStorage.getItem("auth")})};fetch(window.ENDPOINT+"/requests/new/report",o).then(t=>t.json()).then(t=>{this.$toast.success("Tu solicitud ha sido procesada. Muchas gracias por ayudarnos a mejorar",{position:"bottom-right"}),$("#report-content").modal("hide"),this.temp.input=null})},openReportModal(){$("#report-content").modal("show")},init(){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),id:this.$props.id})};fetch(window.ENDPOINT+"/comunity/documents/check/details",o).then(t=>t.json()).then(t=>{this.details=t,this.showToolbar=!0})},validateDocument(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),id:this.$props.id})};fetch(window.ENDPOINT+"/comunity/document/validate",o).then(t=>t.json()).then(t=>{console.log("aver",t),t.success?(this.details.validate=!0,this.$toast.success("Contenido validado",{position:"bottom-right"})):this.$toast.error("Error",{position:"bottom-right"}),this.$Progress.finish()})},saveDocument(){this.$Progress.start();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:localStorage.getItem("auth"),id:this.$props.id})};fetch(window.ENDPOINT+"/comunity/document/copy/library",o).then(t=>t.json()).then(t=>{t.insertedId?(this.details.copy=!0,this.$toast.success("El documento se ha guardado correctamente",{position:"bottom-right"})):this.$toast.error("Error",{position:"bottom-right"}),this.$Progress.finish()})}}},C={key:0,class:"col-md-12 text-right",style:{height:"50px"}},O=e("div",{class:"spinner-border spinner-border-sm",role:"status"},[e("span",{class:"sr-only"},"Loading...")],-1),N=[O],S={key:1,class:"col-12 text-right",style:{height:"50px"}},D=e("img",{src:b},null,-1),P=[D],E={key:1,href:"#",class:"icons-link validate-true"},j=e("img",{src:b},null,-1),I=[j],U=e("img",{src:f},null,-1),q=[U],B={key:3,href:"#",class:"icons-link"},F=e("img",{src:x},null,-1),V=[F],M=e("img",{src:w},null,-1),R=[M],A=e("img",{src:k},null,-1),J=[A],L={class:"modal fade",id:"report-content",tabindex:"-1",role:"dialog","aria-labelledby":"report-contentTitle","aria-hidden":"true"},z={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},G={class:"modal-content",style:{"border-radius":"10px",border:"none"}},W=e("div",{class:"modal-header text-center",style:{background:"#dedcdc",color:"#454545","border-top-left-radius":"10px","border-top-right-radius":"10px"}},[e("h5",{class:"modal-title",style:{"font-size":"15px","font-weight":"600","text-align":"center !important",display:"block !important",width:"100%"}}," Denunciar contenido"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),H=g(" \xBFPor qu\xE9 quer\xE9s denunciar este contenido ? "),K={class:"col-md-12",style:{"margin-top":"20px"}},Q=e("div",{class:"col-md-12 text-center",style:{"margin-top":"20px"}},[e("button",{type:"submit",class:"btn btn-primary",style:{width:"120px",position:"relative"}},"Denunciar")],-1),X={class:"modal fade",id:"social-share-content",tabindex:"-1",role:"dialog","aria-labelledby":"report-contentTitle","aria-hidden":"true"},Y={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Z={class:"modal-content",style:{"border-radius":"10px",border:"none"}},tt=e("div",{class:"modal-header text-center",style:{background:"#dedcdc",color:"#454545","border-top-left-radius":"10px","border-top-right-radius":"10px"}},[e("h5",{class:"modal-title",style:{"font-size":"15px","font-weight":"600","text-align":"center !important",display:"block !important",width:"100%"}}," Compartir documento"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),et={class:"modal-body"},ot=e("hr",null,null,-1),st={class:"col-md-12",style:{background:"#F2F2F2",color:"#141414","font-weight":"600","text-align":"left",padding:"20px","margin-bottom":"10px"}},it=g(" Compartir link ");function rt(o,t,m,c,s,r){const p=v("tooltip");return n(),a(y,null,[s.showToolbar?h("",!0):(n(),a("div",C,N)),s.showToolbar?(n(),a("div",S,[s.details.validate==!1&&s.details.owner==!1?d((n(),a("a",{key:0,href:"#",class:"icons-link",onClick:t[0]||(t[0]=l(i=>r.validateDocument(),["prevent"]))},P)),[[p,"Validar"]]):h("",!0),s.details.validate==!0&&s.details.owner==!1?d((n(),a("a",E,I)),[[p,"Documento validado"]]):h("",!0),s.details.copy?h("",!0):d((n(),a("a",{key:2,href:"#",class:"icons-link",onClick:t[1]||(t[1]=l(i=>r.saveDocument(),["prevent"]))},q)),[[p,"Guardar"]]),s.details.copy?d((n(),a("a",B,V)),[[p,"Olvidar"]]):h("",!0),d((n(),a("a",{href:"#",class:"icons-link",onClick:t[2]||(t[2]=l(i=>r.openReportModal(),["prevent"]))},R)),[[p,"Reportar"]]),d((n(),a("a",{href:"#",class:"icons-link",onClick:t[3]||(t[3]=l(i=>r.openShareContent(),["prevent"]))},J)),[[p,"Compartir"]])])):h("",!0),e("div",L,[e("div",z,[e("div",G,[W,e("form",{onSubmit:t[5]||(t[5]=l(i=>r.save(),["prevent"])),class:"modal-body"},[H,e("div",K,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=i=>s.temp.input=i),style:{height:"30px","min-height":"33px","border-radius":"30px",border:"1px solid rgb(199, 199, 199)",background:"rgb(231, 231, 231)"}},null,512),[[u,s.temp.input]])]),Q],32)])])]),e("div",X,[e("div",Y,[e("div",Z,[tt,e("div",et,[e("div",{class:"col-md-12",onClick:t[6]||(t[6]=l(i=>r.share("facebook"),["prevent"])),style:{background:"#3b5998",color:"white","font-weight":"600","text-align":"left",padding:"20px","margin-bottom":"10px","border-radius":"5px"}}," Facebook "),e("div",{class:"col-md-12",onClick:t[7]||(t[7]=l(i=>r.share("twitter"),["prevent"])),style:{background:"#00acee",color:"white","font-weight":"600","text-align":"left",padding:"20px","margin-bottom":"10px","border-radius":"5px"}}," Twitter "),e("div",{class:"col-md-12",onClick:t[8]||(t[8]=l(i=>r.share("linkedin"),["prevent"])),style:{background:"#0e76a8",color:"white","font-weight":"600","text-align":"left",padding:"20px","margin-bottom":"10px","border-radius":"5px"}}," Linkedin "),e("div",{class:"col-md-12",onClick:t[9]||(t[9]=l(i=>r.share("whatsapp"),["prevent"])),style:{background:"#075e54",color:"white","font-weight":"600","text-align":"left",padding:"20px","margin-bottom":"10px","border-radius":"5px"}}," Whatsapp "),ot,e("div",st,[it,d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=i=>s.valUrl=i),readonly:"true",style:{height:"30px","min-height":"33px","border-radius":"30px",border:"1px solid rgb(199, 199, 199)",background:"rgb(231, 231, 231)","margin-top":"15px"}},null,512),[[u,s.valUrl]])])])])])])],64)}var dt=_(T,[["render",rt]]);export{dt as T};
