var X=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var H=(i,n,o)=>n in i?X(i,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[n]=o,R=(i,n)=>{for(var o in n||(n={}))oe.call(n,o)&&H(i,o,n[o]);if(V)for(var o of V(n))se.call(n,o)&&H(i,o,n[o]);return i},U=(i,n)=>ee(i,te(n));import{a2 as ne,U as f,a3 as D,Q as B,o as l,c as a,b as e,A as u,F as P,D as E,k as h,H as A,a as C,u as O,n as j,Z as ie,j as Q,l as x,m as I,a4 as K,r as le,x as J,w as ae,G as F}from"./vendor.3ce90362.js";import{n as re,c as de}from"./navbar.3dc83e26.js";import{_ as Y}from"./admin-add.c0a05d7b.js";import{T as ce}from"./vuejs-tree.common.02dd7996.js";import{N as pe}from"./new-tags-suggest.36b6f8fc.js";import{_ as W}from"./boligrafo.1cbc6d81.js";import{_ as ue,a as me,b as Z}from"./expandir.532577ce.js";import{a as he,_ as ge,b as fe}from"./descargar.fa43ec5f.js";import{_ as G}from"./DocumentDropdown.3ac4bf8a.js";import{b as ve}from"./share-button-writting-private.46cbf0eb.js";/* empty css                       */import{Q as T,I as ye,q as N}from"./quill-table.54d5d997.js";import"./Logocompleto.3df4452e.js";/* empty css                                                                     */import"./edit.dc69b3f2.js";import"./cuota.edac84f3.js";const z="http://localhost:4000/api",q=ne({id:"writings",state:()=>({documents:[],document:null,activeDocumentId:null}),getters:{fixerEditMode:i=>i.documents.map(n=>U(R({},n),{_ext:{edit_title:!1,edit_description:!1}}))},actions:{compartirPrivado(i,n){return new Promise((o,t)=>{const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,documentId:n})};fetch(z+"/writings/share/private",r).then(p=>p.json()).then(()=>{o(!0)})})},loadAllDocuments(i){return new Promise((n,o)=>{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:i})};fetch(z+"/writings/get/documents",t).then(r=>r.json()).then(r=>{this.documents=r,n(!0)})})},loadFolders(i){return new Promise((n,o)=>{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:i})};fetch(z+"/writings/get/folders",t).then(r=>r.json()).then(r=>{n(r)})})},searchDocuments(i,n){return new Promise((o,t)=>{const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:i,target:n})};fetch(z+"/writings/search",r).then(p=>p.json()).then(p=>{this.documents=p,o(!0)})})},loadDocument(i,n){return new Promise((o,t)=>{this.activeDocumentId=n;const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:i,id:n})};fetch(z+"/writings/get/document",r).then(p=>p.json()).then(p=>{p.code&&(this.document=null,o(!0)),p.empty&&(this.document=null,o(!0)),p.error||(this.document=p,o(!0))})})}}}),_e={class:"col-12",style:{"padding-top":"10px","padding-bottom":"0"}},xe={key:0,class:"spinner-border spinner-border-sm",role:"status"},$e=e("span",{class:"sr-only"},"Loading...",-1),be=[$e],we={key:1,style:{padding:"0",margin:"0",width:"100%","list-style":"none"}},ke=["onClick"],Ce={href:"#",style:{color:"black","font-weight":"600"}},De={class:"col-12",style:{"padding-top":"10px","padding-bottom":"10px"}},Te=e("img",{src:Y,style:{width:"20px"}},null,-1),Pe=j(" Nueva carpeta raiz"),Se=[Te,Pe],Me=e("hr",null,null,-1),Oe=e("hr",null,null,-1),Ae={key:0,style:{"font-size":"12px","font-weight":"500"}},je={class:"col-12 text-center",style:{"padding-top":"8.5px","padding-bottom":"8.5px","border-bottom":"1px solid #e5e5e5"}},Ne={style:{padding:"0px","list-style":"none",width:"100%",display:"flex","justify-content":"flex-start","align-items":"center","flex-direction":"column","align-content":"flex-start"}},ze={style:{width:"100%",display:"flex","justify-content":"flex-start","align-items":"flex-start","flex-direction":"column","align-content":"flex-start","margin-bottom":"5px"}},Ee={href:"#",style:{"font-size":"12px",padding:"5px",background:"rgb(234, 234, 234)","border-radius":"30px",display:"flex","place-content":"flex-start","align-items":"center","flex-direction":"row","padding-left":"10px","padding-right":"10px"}},Fe=["onClick"],Ie=e("i",{class:"fas fa-times"},null,-1),Be=[Ie],qe={props:{items:{type:Array,required:!0}},emits:["loadAllDocuments"],setup(i,{emit:n}){const o=f([]),t=f([]),r=f(!1),p=f(null),c=f({index:null,node:null}),v=f([]),S=q(),b=D(()=>localStorage.getItem("auth")),w=D(()=>({treeEvents:{expanded:{state:!0,fn:(s,g)=>{alert(s)}},collapsed:{state:!0,fn:(s,g)=>{alert(s)}},selected:{state:!1,fn:(s,g)=>{console.log(`is ${s} selected ? ${g}`),console.log(this.$refs["my-tree"].getSelectedNode())}},checked:{state:!1,fn:()=>{}}},events:{expanded:{state:!0},selected:{state:!0},checked:{state:!0},editableName:{state:!0,calledEvent:"expanded"}},addNode:{state:!0,class:"add_icon",style:{color:"red"},fn:s=>{$("#staticBackdrop2").modal("show"),p.value=s},appearOnHover:!0},editNode:{state:!0,fn:(s,g)=>{console.log("deleteforlder",s,g),c.value={index:g,node:s},$("#staticBackdrop4").modal("show")},appearOnHover:!0},deleteNode:{state:!1,fn:()=>{},appearOnHover:!0},showTags:!0})),_=D(()=>({tree:{style:{height:"auto",maxHeight:"300px",overflowY:"visible",display:"inline-block",textAlign:"left"}},editNode:{class:"button-edit-tree",style:{color:"#EE5F5B"}},row:{style:{width:"500px",cursor:"pointer"},child:{class:"",style:{height:"35px"},active:{style:{height:"35px"}}}},rowIndent:{paddingLeft:"20px"},text:{style:{"font-weight":"600","font-size":"12px"},active:{style:{"font-weight":"bold",color:"#1200FF","font-size":"12px"}}}})),M=s=>{for(var g=[],y=s.length-1;y>=0;y--)g.push({id:s[y]._id,text:s[y].data.text,nodes:[{id:"934",text:"Cargando carpetas..",nodes:[],state:{checked:!1,selected:!1,expanded:!1}}],state:{checked:!1,selected:!1,expanded:!1}});return g},k=async()=>{S.loadFolders(b.value).then(s=>{setTimeout(()=>{if(s.empty){t.value=[],o.value=[],r.value=!1;return}s.error!==!0&&(t.value=M(s),r.value=!1,o.value=s)},200)})},d=()=>{n("loadAllDocuments")};function m(){return this.searchTargetFolders.target?o.filter(s=>(console.log(s.text.startsWith(this.searchTargetFolders.target)),s.text.startsWith(this.searchTargetFolders.target))):o.value}return B(async()=>{await k(b.value).then(s=>{console.log(s),console.log(o),console.log(S)})}),(s,g)=>(l(),a(P,null,[e("div",_e,[r.value.value?(l(),a("div",xe,be)):u("",!0),o.value.length>0?(l(),a("ul",we,[(l(),a(P,null,E(m,y=>e("li",{style:{padding:"0",margin:"0",width:"100%","list-style":"none"},key:s.index,onClick:h(L=>s.getDocumentsByTag(y.id,y.text),["prevent"])},[e("a",Ce,A(y.text),1)],8,ke)),64))])):u("",!0)]),e("div",De,[e("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:g[0]||(g[0]=h(y=>s.openCreateFolderRootModal(),["prevent"]))},Se),Me,e("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:g[1]||(g[1]=h(y=>d(),["prevent"]))}," Todos los documentos"),Oe,C(O(ce),{id:"my-tree-id",ref:"my-tree","custom-options":O(w),"custom-styles":O(_),nodes:t.value},null,8,["custom-options","custom-styles","nodes"]),t.value.length==0?(l(),a("span",Ae,"No se encontraron carpetas.")):u("",!0)]),e("div",je,[e("ul",Ne,[(l(!0),a(P,null,E(v.value,(y,L)=>(l(),a("li",ze,[e("a",Ee,[j(A(y.text)+" ",1),e("a",{href:"#",style:{"margin-left":"10px"},onClick:fo=>s.removeFilterTag(L,y.text)},Be,8,Fe)])]))),256))])])],64))}},Le={class:"col-12",style:{"padding-top":"10px","padding-bottom":"10px"}},Ve={key:0,class:"spinner-border spinner-border-sm",role:"status"},He=e("span",{class:"sr-only"},"Loading...",-1),Re=[He],Ue=e("img",{src:Y,style:{width:"20px"}},null,-1),Je=j(" Nueva etiqueta"),We=[Ue,Je],Ge=e("hr",null,null,-1),Qe=e("hr",null,null,-1),Ke={key:1,class:"col-12 text-left",style:{padding:"0"}},Ye=e("p",{style:{"font-size":"13px","font-weight":"600"}},"Filtros :",-1),Ze={style:{padding:"0px","list-style":"none",width:"100%",display:"flex","justify-content":"flex-start","align-items":"center","flex-direction":"column","align-content":"flex-start"}},Xe={style:{width:"100%",display:"flex","justify-content":"flex-start","align-items":"flex-start","flex-direction":"column","align-content":"flex-start","margin-bottom":"5px"}},et={href:"#",style:{"font-size":"12px","padding-top":"5px","padding-bottom":"5px",background:"rgb(206, 206, 206)","border-radius":"30px",display:"flex","place-content":"flex-start","align-items":"center","flex-direction":"row","font-weight":"600","padding-left":"10px","padding-right":"10px"}},tt=["onClick"],ot=e("i",{class:"fas fa-times"},null,-1),st=[ot],nt=e("hr",null,null,-1),it={key:2,style:{padding:"0",margin:"0",width:"100%","list-style":"none"}},lt=["onClick"],at={href:"#",style:{color:"black","font-weight":"600","font-size":"12px"}},rt={props:{loadingTags:{type:Boolean,required:!0},items:{type:Array,required:!0},tagsSelectedTags:{type:Array,default:()=>[]}},setup(i){return(n,o)=>(l(),a("div",Le,[i.loadingTags?(l(),a("div",Ve,Re)):u("",!0),e("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:o[0]||(o[0]=h(t=>n.openNewTag(),["prevent"]))},We),C(pe,{style:{"z-index":"1000"}}),Ge,e("a",{href:"#",style:{"font-size":"13px","font-weight":"600"},onClick:o[1]||(o[1]=h(t=>n.loadAllDocuments(),["prevent"]))}," Todos los documentos"),Qe,i.tagsSelectedTags.length>0?(l(),a("div",Ke,[Ye,e("ul",Ze,[(l(!0),a(P,null,E(i.tagsSelectedTags,(t,r)=>(l(),a("li",Xe,[e("a",et,[j(A(t.title)+" ",1),e("a",{href:"#",style:{"margin-left":"10px"},onClick:p=>n.removeFilterTags(r,t.title)},st,8,tt)])]))),256))]),nt])):u("",!0),i.items?(l(),a("ul",it,[(l(!0),a(P,null,E(n.filteredResourcesTags,t=>(l(),a("li",{style:{padding:"0",margin:"0",width:"100%","list-style":"none","line-height":"15px","margin-bottom":"15px"},key:n.index,onClick:h(r=>n.getDocumentsByTag(t._id,t.data.title),["prevent"])},[e("a",at,A(t.data.title),1)],8,lt))),128))])):u("",!0)]))}},dt={class:"col-md-3",style:{"border-left":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6",padding:"0",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",position:"relative"}},ct={key:0,class:"spinner-border spinner-border-sm",role:"status",style:{position:"absolute"}},pt=e("span",{class:"sr-only"},"Loading...",-1),ut=[pt],mt=["onClick","onContextmenu"],ht={key:0,class:"col-12",style:{padding:"0"}},gt={class:"edit-mode"},ft=["onClick"],vt=["onSubmit"],yt=["onUpdate:modelValue"],_t=e("button",{type:"submit",hidden:"true"},null,-1),xt={href:"#"},$t={key:0,class:"edit-mode",style:{color:"#525252","font-size":"12px"}},bt=["onClick"],wt=["onSubmit"],kt=["onUpdate:modelValue"],Ct=e("button",{type:"submit",hidden:"true"},null,-1),Dt={style:{position:"absolute:top:0:right:0",height:"100%"}},Tt={href:"#"},Pt={key:0,src:ue,style:{height:"20px",width:"20px"}},St={href:"#"},Mt={key:0,src:me,style:{height:"20px",width:"20px"}},Ot={href:"#"},At={key:0,src:ge,style:{height:"20px",width:"20px"}},jt={href:"#"},Nt={key:0},zt=["onClick"],Et={props:{loadingDocument:{type:Boolean,default:!1}},setup(i){const n=i,o=K(),{loadingDocument:t}=ie(n),r=q(),p=D(()=>localStorage.getItem("auth")),c=D(()=>r.fixerEditMode),v=D(()=>r.document),S=_=>{o.appContext.config.globalProperties.$Progress.start(),t.value=!0,r.loadDocument(p.value,_).then(()=>{t.value=!1,o.appContext.config.globalProperties.$Progress.finish()})},b=_=>{o.appContext.config.globalProperties.$Progress.start(),t.value=!0,r.loadDocument(p.value,_).then(()=>{v.value.data.version,data.data.complete==0&&data.data.form_complete&&(data.data.version,w()),t.value=!1,o.appContext.config.globalProperties.$Progress.finish()})},w=()=>{$("#exampleModalLong").modal("show")};return(_,M)=>{const k=Q("tooltip");return l(),a("div",dt,[O(t)?(l(),a("div",ct,ut)):(l(!0),a(P,{key:1},E(O(c),(d,m)=>(l(),a("div",{class:"col-12",style:{padding:"15px","border-bottom":"1px solid #e6e6e6",cursor:"pointer",position:"relative"},key:m,onClick:s=>S(d._id),onContextmenu:h(s=>_.openContextmenu(s,d,m),["prevent"])},[d._ext.edit_title==!1?(l(),a("div",ht,[e("span",gt,[j(A(d.data.title)+" ",1),e("img",{src:W,onClick:h(s=>d._ext.edit_title=!0,["prevent"])},null,8,ft)])])):u("",!0),d._ext.edit_title?(l(),a("form",{key:1,onSubmit:h(s=>_.saveEditMode(d._id,m),["prevent"]),class:"col-12",style:{padding:"0",display:"flex","margin-bottom":"10px"}},[x(e("input",{type:"text",class:"form-control col-12","onUpdate:modelValue":s=>d.data.title=s,style:{"font-size":"13px","border-radius":"30px",height:"30px","min-height":"30px","max-height":"30px",background:"white","font-weight":"700"}},null,8,yt),[[I,d.data.title]]),_t],40,vt)):u("",!0),x((l(),a("a",xt,[d._ext.edit_description?u("",!0):(l(),a("p",$t,[j(A(d.data.description)+" ",1),e("img",{src:W,onClick:h(s=>d._ext.edit_description=!0,["prevent"])},null,8,bt)]))])),[[k,"Editar Descripcion"]]),d._ext.edit_description?(l(),a("form",{key:2,onSubmit:h(s=>_.saveEditMode(d._id,m),["prevent"]),class:"col-12",style:{padding:"0px",display:"flex","flex-direction":"row","flex-wrap":"wrap","margin-bottom":"10px"}},[x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s=>d.data.description=s,style:{"font-size":"12px","border-radius":"8px",height:"fit-content","min-height":"fit-content","max-height":"fit-content",background:"white","margin-bottom":"5px"}},null,8,kt),[[I,d.data.description]]),Ct],40,wt)):u("",!0),e("div",Dt,[x((l(),a("a",Tt,[d.data.share==0?(l(),a("img",Pt)):u("",!0)])),[[k,"Documento privado"]]),x((l(),a("a",St,[d.data.share==1?(l(),a("img",Mt)):u("",!0)])),[[k,"Documento publico"]]),x((l(),a("a",Ot,[d.data.complete==1?(l(),a("img",At)):u("",!0)])),[[k,"Automatizado"]]),x((l(),a("a",jt,[d.data.complete==0?(l(),a("span",Nt,[d.data.form_complete?(l(),a("img",{key:0,src:he,style:{height:"20px",width:"20px",cursor:"pointer"},onClick:s=>b(d._id)},null,8,zt)):u("",!0)])):u("",!0)])),[[k,"Modelo"]])])],40,mt))),128))])}}},Ft={class:"col-md-6 scroll-size-medium",style:{"border-left":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6",padding:"0",height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",position:"relative"}},It={key:0,class:"spinner-border spinner-border-sm",role:"status",style:{position:"absolute"}},Bt=e("span",{class:"sr-only"},"Loading...",-1),qt=[Bt],Lt={key:1,class:"col-12",style:{padding:"10px"}},Vt={class:"row"},Ht=e("div",{class:"col-md-8"},null,-1),Rt={class:"col-md-4 text-right"},Ut={key:0},Jt=e("img",{src:Z,style:{width:"14px",height:"14px","margin-right":"5px"}},null,-1),Wt=e("span",null,"Expandir",-1),Gt=[Jt,Wt],Qt=e("img",{src:Z,style:{width:"14px",height:"14px","margin-right":"5px"}},null,-1),Kt=e("span",null,"Expandir",-1),Yt=[Qt,Kt],Zt={class:"dropdown",style:{margin:"5px",display:"inline"}},Xt=e("button",{class:"btn btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-expanded":"false"},[e("img",{src:fe,style:{width:"14px",height:"14px","margin-right":"5px"}})],-1),eo={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},to=["innerHTML"],oo={props:{loadingDocument:{type:Boolean,default:!1},document:{type:Object,required:!0}},setup(i){T.register("modules/imageDropAndPaste",ye),T.register(N.TableCell),T.register(N.TableRow),T.register(N.Table),T.register(N.Contain),T.register("modules/table",N.TableModule);const n=f(null);return B(()=>{const r=[];for(let c=1;c<=10;c++)for(let v=1;v<=5;v++)r.push("newtable_"+c+"_"+v);const p=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["image","video"],[{table:r},{table:"append-row"},{table:"append-col"}],["clean"]];setTimeout(()=>{n.value=new T("#editor-full",{theme:"snow",placeholder:"Inicializando la aplicacion",modules:{table:!0,toolbar:p}})},200)}),(o,t)=>{const r=le("component"),p=Q("tooltip");return l(),a("div",Ft,[i.document?(l(),a("div",Lt,[e("div",Vt,[Ht,e("div",Rt,[C(G,{document:i.document,onGoEditPrivate:t[0]||(t[0]=c=>o.goEditPrivate(i.document)),onOpenModalMoveDocument:t[1]||(t[1]=c=>o.openModalMoveDocument()),onOpenModalAddTags:t[2]||(t[2]=c=>o.openModalAddTags()),onSaveShare:t[3]||(t[3]=c=>o.saveShare(1,o.activeDocumentId)),onDeleteDocument:t[4]||(t[4]=c=>o.deleteDocument(o.activeDocumentId)),onOpenCompartirPrivada:t[5]||(t[5]=c=>o.openCompartirPrivada())},null,8,["document"]),i.document.data.complete==0?(l(),a("span",Ut,[i.document.data.form_complete?x((l(),a("a",{key:0,href:"#",style:{margin:"5px"},class:"textHover",onClick:t[6]||(t[6]=c=>o.getDocumentModal(i.document._id))},Gt)),[[p,"Expandir"]]):u("",!0)])):u("",!0),i.document.data.complete==1?x((l(),a("a",{key:1,href:"#",style:{margin:"5px"},class:"textHover",onClick:t[7]||(t[7]=c=>o.openFullScreen())},Yt)),[[p,"Expandir"]]):u("",!0),i.document.data.complete==1?(l(),J(r,{key:2},{default:ae(()=>[e("div",Zt,[Xt,e("div",eo,[e("a",{class:"dropdown-item",href:"#",onClick:t[8]||(t[8]=h(c=>o.exportWord(),["prevent"]))},"Documento Word"),e("a",{class:"dropdown-item",href:"#",onClick:t[9]||(t[9]=h(c=>o.exportPDF(),["prevent"]))},"Documento PDF")])])]),_:1})):u("",!0),i.document.data.share==1?(l(),J(ve,{key:3,id:i.document.data.id_share_comuniy},null,8,["id"])):u("",!0),C(G,{document:i.document,onGoEditPrivate:t[10]||(t[10]=c=>o.goEditPrivate(i.document)),onOpenModalMoveDocument:t[11]||(t[11]=c=>o.openModalMoveDocument()),onOpenModalAddTags:t[12]||(t[12]=c=>o.openModalAddTags()),onSaveShare:t[13]||(t[13]=c=>o.saveShare(1,o.activeDocumentId)),onDeleteDocument:t[14]||(t[14]=c=>o.deleteDocument(o.activeDocumentId)),onOpenCompartirPrivada:t[15]||(t[15]=c=>o.openCompartirPrivada())},null,8,["document"])])])])):(l(),a("div",It,qt)),e("div",{innerHTML:"Para completar este escrito hac\xE9 click aca.",onClick:t[16]||(t[16]=c=>o.getDocumentModal(i.document._id)),id:"editor-full",contenteditable:"false",style:{width:"100%",padding:"20px",overflow:"hidden",height:"calc(100vh - 206px)","overflow-y":"auto",color:"black"}},null,8,to)])}}};const so={class:"container-fluid"},no={class:"row"},io={class:"col-md-2",style:{height:"calc(100vh - 70px)",overflow:"hidden","overflow-y":"auto",padding:"0"}},lo={class:"col-md-10",style:{height:"calc(100vh - 70px)",border:"1px solid #e2e2e2",position:"relative"}},ao={class:"row",style:{"padding-right":"0px","padding-left":"0px"}},ro={class:"col-md-3",style:{position:"relative",overflow:"hidden","overflow-y":"auto",margin:"0","padding-right":"0px","padding-left":"0px",height:"calc(100vh - 70px)"}},co={class:"nav nav-tabs nav-justified"},po={class:"nav-item"},uo={class:"nav-item"},mo={class:"tab-content py-3",id:"myTabContent"},ho={class:"col-12 text-center",style:{"padding-top":"8.5px","padding-bottom":"8.5px","border-bottom":"1px solid #e5e5e5"}},go={class:"col-12 text-center",style:{"padding-top":"8.5px","padding-bottom":"8.5px","border-bottom":"1px solid #e5e5e5"}},No={setup(i){const n=q(),o=K(),t=D(()=>localStorage.getItem("auth")),r=f(n.documents),p=D(()=>n.document),c=f(n.activeDocumentId),v=f(!1),S=f(!1),b=f("folders"),w=f("");f(null);const _=d=>{b.value=d,console.log(n)},M=async()=>{v.value=!0,o.appContext.config.globalProperties.$Progress.start(),await n.loadAllDocuments(t.value),v.value=!1,o.appContext.config.globalProperties.$Progress.finish()},k=()=>{if(!w.value){M();return}o.appContext.config.globalProperties.$Progress.start(),v.value=!0,n.searchDocuments(t.value,w.value).then(()=>{v.value=!1,o.appContext.config.globalProperties.$Progress.finish()})};return B(async()=>{await M(t.value)}),(d,m)=>(l(),a(P,null,[C(re),e("main",null,[e("div",so,[e("div",no,[e("div",io,[C(de)]),e("div",lo,[e("div",ao,[e("div",ro,[e("ul",co,[e("li",po,[e("a",{class:F(["nav-link",{active:b.value==="folders"}]),onClick:m[0]||(m[0]=h(s=>_("folders"),["prevent"]))},"Carpetas",2)]),e("li",uo,[e("a",{class:F(["nav-link",{active:b.value==="tags"}]),onClick:m[1]||(m[1]=h(s=>_("tags"),["prevent"]))},"Etiquetas",2)])]),e("div",mo,[e("div",{class:F(["tab-pane fade",{"active show":b.value==="folders"}]),id:"folders"},[e("div",ho,[x(e("input",{type:"text",class:"form-control type-input-3","onUpdate:modelValue":m[2]||(m[2]=s=>w.value=s),onKeyup:m[3]||(m[3]=s=>k()),placeholder:"Buscar..."},null,544),[[I,w.value]])]),C(qe,{items:r.value,onLoadAllDocuments:M},null,8,["items"])],2),e("div",{class:F(["tab-pane fade",{"active show":b.value==="tags"}]),id:"tags"},[e("div",go,[x(e("input",{type:"text",class:"form-control type-input-3","onUpdate:modelValue":m[4]||(m[4]=s=>w.value=s),onKeyup:m[5]||(m[5]=s=>k()),placeholder:"Buscar..."},null,544),[[I,w.value]])]),C(rt,{items:r.value,"loading-tags":S.value},null,8,["items","loading-tags"])],2)])]),C(Et,{"loading-documents":v.value},null,8,["loading-documents"]),C(oo,{document:O(p),"active-document-id":c.value},null,8,["document","active-document-id"])])])])])])],64))}};export{No as default};
