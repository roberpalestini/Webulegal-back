import{_ as u,r as f,o as b,c as _,b as e,k as d,l as c,m as p,a as m,u as v,w as y,p as h,q as x,s as w,n as l,t as k}from"./vendor.3ce90362.js";import{_ as S}from"./Logocompleto.3df4452e.js";import{v as I}from"./index.f2e8f42a.js";import{V as g}from"./vue-facebook-login-component-next.es.8eb78c34.js";import{r}from"./index.f3c26685.js";const n=o=>(x("data-v-642674fa"),o=o(),w(),o),$={class:"container"},N={class:"row justify-content-center"},O=h('<div class="col-md-5 text-center" style="margin-top:20px;margin-bottom:20px;" data-v-642674fa><img src="'+S+'" alt="" style="max-width:270px;margin-top:12px;" class="img-fluid" data-v-642674fa></div><div class="col-md-12" data-v-642674fa></div><div class="col-md-5 text-center" style="font-size:16px;margin-top:20px;margin-bottom:20px;" data-v-642674fa> Hac\xE9 m\xE1s eficiente tu trabajo legal </div><div class="col-md-12" data-v-642674fa></div>',4),P={class:"col-md-5",style:{"margin-top":"20px","margin-bottom":"20px"}},E={class:"form-group text-center"},T={class:"form-group text-center"},q=h('<div class="form-group" style="margin-top:20px;margin-bottom:20px;" data-v-642674fa><p data-v-642674fa>Al ingresar acept\xE1s los <a href="/src/assets/T\xC9RMINOS-Y-CONDICIONES-GENERALES-WEBU.pdf" target="_blank" data-v-642674fa>t\xE9rminos y condiciones</a> y <a href="/src/assets/Politica-de-Privacidad-Webu.pdf" target="_blank" data-v-642674fa>pol\xEDtica de privacidad</a> de la p\xE1gina</p></div><div class="form-group" style="margin-top:20px;margin-bottom:20px;" data-v-642674fa><button type="submit" class="btn btn-primary col-12" style="width:100%;position:relative;height:45px;" data-v-642674fa>Iniciar sesion</button></div>',2),F=n(()=>e("div",{class:"col-md-12"},null,-1)),j={class:"col-md-5"},C={class:"form-group",style:{"margin-top":"20px","margin-bottom":"20px","text-align":"center"}},G=l(" Acceder con Facebook "),B={class:"form-group",style:{"margin-top":"20px","margin-bottom":"20px"}},V=n(()=>e("div",{class:"col-md-12"},null,-1)),D={class:"col-md-5"},R={class:"form-group text-center",style:{"margin-top":"20px","margin-bottom":"20px"}},J=l(" \xBFNo tenes cuenta? "),L=n(()=>e("div",{class:"col-md-12"},null,-1)),A=n(()=>e("div",{class:"col-md-5"},[e("div",{class:"form-group text-center",style:{"margin-top":"20px","margin-bottom":"20px"}},[l(" \xBFSe te olvid\xF3 tu contrase\xF1a? "),e("a",{href:"/login/password"},"Recuperar")])],-1)),M={components:{VFacebookLogin:g},data(){return{scopeFB:[{scope:"email"},{scope:"name"}],data:{email:null,password:null},loading_submit:!1,endpoint:window.ENDPOINT+"/users/login",endpointGoogle:window.ENDPOINT+"/users/login/google",endpointFacebook:window.ENDPOINT+"/users/login/facebook",sdkFB:null}},created(){},mounted(){},methods:{handleSdkInit({FB:o,scope:t}){this.sdkFB=o},callbackFacebook(o){var t=this.submitFacebook;this.sdkFB.api("/me?fields=id,name,email",function(i){console.log(o," data me "),console.log("Welcome, "+o.name+"!"),console.log("Your email id is : "+o.email),t(o,i)})},callbackGoogle(o){const t=k(o.credential);console.log("Handle the userData",t,o),this.submitGoogle(o,t)},submit(){if(this.$Progress.start(),!I(this.data.email)){this.$toast.show("E-mail incorrecto.",{position:"bottom-right"}),this.$Progress.finish();return}this.loading_submit=!0;const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.data.email,password:this.data.password})};fetch(this.endpoint,o).then(t=>t.json()).then(t=>{if(t.error)this.$toast.show("E-mail o contrase\xF1a incorrecta.",{position:"bottom-right"});else{if(localStorage.setItem("auth",t.auth),localStorage.setItem("authId",t.auth._id),localStorage.setItem("user",JSON.stringify(t)),this.$route.query.rel){window.location.href=this.$route.query.rel;return}r.push("/platform/dashboard")}this.$Progress.finish()})},submitGoogle(o,t){this.$Progress.start(),this.loading_submit=!0;const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:o,data:t})};fetch(this.endpointGoogle,i).then(s=>s.json()).then(s=>{if(s.error){this.$toast.show("Esta cuenta ya se ha registrado via email.",{position:"bottom-right"}),this.$Progress.finish();return}if(this.$Progress.finish(),console.log("test",s),localStorage.setItem("auth",s.auth),localStorage.setItem("authId",s.auth._id),localStorage.setItem("user",JSON.stringify(s)),this.$route.query.rel){window.location.href=this.$route.query.rel;return}r.push("/platform/dashboard"),this.$Progress.finish()})},submitFacebook(o,t){this.$Progress.start(),this.loading_submit=!0;const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:o,data:t})};fetch(this.endpointFacebook,i).then(s=>s.json()).then(s=>{if(s.error){this.$toast.show("Esta cuenta ya se ha registrado via email.",{position:"bottom-right"}),this.$Progress.finish();return}if(this.$Progress.finish(),console.log("test",s),localStorage.setItem("auth",s.auth),localStorage.setItem("authId",s.auth._id),localStorage.setItem("user",JSON.stringify(s)),this.$route.query.rel){window.location.href=this.$route.query.rel;return}r.push("/platform/dashboard"),this.$Progress.finish()})},goToRegister(){if(this.$route.query.rel){this.$router.push({name:"register",query:{rel:this.$route.query.rel}});return}r.push("/register")},pause(){},hover(){}}},U=Object.assign(M,{setup(o){return(t,i)=>{const s=f("GoogleLogin");return b(),_("div",$,[e("div",N,[O,e("div",P,[e("form",{onSubmit:i[2]||(i[2]=d(a=>t.submit(),["prevent"]))},[e("div",E,[c(e("input",{type:"text",class:"form-control",placeholder:"E-Mail","onUpdate:modelValue":i[0]||(i[0]=a=>t.data.email=a),style:{background:"transparent !important",border:"1px solid #b8b8b8 !important","border-radius":"0 !important",height:"45px !important","max-height":"45px !important","min-height":"45px !important",width:"98% !important",margin:"0"}},null,512),[[p,t.data.email]])]),e("div",T,[c(e("input",{type:"password",class:"form-control",placeholder:"Contrase\xF1a","onUpdate:modelValue":i[1]||(i[1]=a=>t.data.password=a),style:{background:"transparent !important",border:"1px solid #b8b8b8 !important","border-radius":"0 !important",height:"45px !important","max-height":"45px !important","min-height":"45px !important",width:"98% !important"}},null,512),[[p,t.data.password]])]),q],32)]),F,e("div",j,[e("div",C,[m(v(g),{"app-id":"394916662616132",onLogin:t.callbackFacebook,"login-options":{scope:"email,user_likes"},onSdkInit:t.handleSdkInit,style:{transition:"background-color 0.25s ease-in-out 0s",width:"218px","font-size":"13px","border-radius":"30px",height:"40px","font-weight":"600","text-align":"right","/* background":"rgb(59, 89, 152)"},"sdk-locale":"ar_AR",slot:{login:"test"}},{login:y(()=>[G]),_:1},8,["onLogin","onSdkInit"])]),e("div",B,[m(s,{callback:t.callbackGoogle},null,8,["callback"])])]),V,e("div",D,[e("div",R,[J,e("a",{href:"#",onClick:i[3]||(i[3]=d(a=>t.goToRegister(),["prevent"]))},"Registrarse")])]),L,A])])}}});var Q=u(U,[["__scopeId","data-v-642674fa"]]);export{Q as default};
