import{_ as d,r as p,o as l,c,b as e,k as h,l as m,m as u,a as _,w as g,p as v,q as b,s as f,n as i}from"./vendor.3ce90362.js";import{_ as y}from"./logo-transparent.fd165a9a.js";import{v as w}from"./index.f2e8f42a.js";import"./index.f3c26685.js";const n=s=>(b("data-v-34d317b0"),s=s(),f(),s),x={class:"container"},S={class:"row justify-content-center"},$=v('<div class="col-md-5 text-center" style="margin-top:20px;margin-bottom:20px;" data-v-34d317b0><img src="'+y+'" class="img-fluid" style="max-width:180px;" data-v-34d317b0></div><div class="col-md-12" data-v-34d317b0></div><div class="col-md-5 text-center" style="font-size:16px;margin-top:20px;margin-bottom:20px;" data-v-34d317b0> Sumate a la comunidad y hac\xE9 m\xE1s eficiente tu trabajo legal </div><div class="col-md-12" data-v-34d317b0></div>',4),P={class:"col-md-5",style:{"margin-top":"20px","margin-bottom":"20px"}},N={class:"form-group"},O=n(()=>e("div",{class:"form-group",style:{"margin-top":"20px","margin-bottom":"20px"}},[e("button",{type:"submit",class:"btn btn-primary col-12",style:{width:"100%",position:"relative",height:"45px"}},"Cambiar contrase\xF1a")],-1)),k=n(()=>e("div",{class:"col-md-12"},null,-1)),T={class:"col-md-5"},q={class:"form-group text-center",style:{"margin-top":"20px","margin-bottom":"20px"}},j=i(" \xBFYa tenes cuenta? "),I=i("Iniciar sesion"),V={data(){return{data:{email:null,password:null,firstname:null,lastname:null},loading_submit:!1,endpointValidate:window.ENDPOINT+"/users/lost/password/token",endpoint:window.ENDPOINT+"/users/lost/password/change"}},created(){},mounted(){this.validate()},methods:{validate(){const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.$route.query.token})};fetch(this.endpointValidate,s).then(t=>t.json()).then(t=>{})},changePassword(){const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.$route.query.token,password:this.data.password})};fetch(this.endpoint,s).then(t=>t.json()).then(t=>{t.error,this.$toast.success("Tu contrase\xF1a fue cambiada correctamente , ya puedes iniciar sesion.",{position:"bottom-right"}),window.location.href="/login"})},save(){if(this.$Progress.start(),!w(this.data.email)){this.$toast.show("E-mail incorrecto.",{position:"bottom-right"}),this.$Progress.finish();return}this.loading_submit=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.data.email,password:this.data.password,firstname:this.data.firstname,lastname:this.data.lastname})};fetch(this.endpoint,s).then(t=>t.json()).then(t=>{if(t.error)this.$toast.show("E-Mail no disponible..",{position:"bottom-right"});else{if(this.$toast.success("Gracias por registrarte , ya puedes iniciar sesion.",{position:"bottom-right"}),this.$route.query.rel){this.$router.push({name:"login",query:{rel:this.$route.query.rel}});return}this.$router.push("/login")}this.$Progress.finish()})},pause(){},hover(){}}},C=Object.assign(V,{setup(s){return(t,o)=>{const r=p("RouterLink");return l(),c("div",x,[e("div",S,[$,e("div",P,[e("form",{onSubmit:o[1]||(o[1]=h(a=>t.changePassword(),["prevent"]))},[e("div",N,[m(e("input",{type:"password",class:"form-control",placeholder:"Nueva contrase\xF1a","onUpdate:modelValue":o[0]||(o[0]=a=>t.data.password=a),required:"true",style:{background:"transparent",border:"1px solid #b8b8b8",height:"45px","max-height":"45px","min-height":"45px","border-radius":"1px"}},null,512),[[u,t.data.password]])]),O],32)]),k,e("div",T,[e("div",q,[j,_(r,{to:"/login"},{default:g(()=>[I]),_:1})])])])])}}});var M=d(C,[["__scopeId","data-v-34d317b0"]]);export{M as default};
