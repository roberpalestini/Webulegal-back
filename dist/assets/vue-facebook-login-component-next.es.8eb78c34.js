import{a as b,o as u,x as p,q as P,s as F,n as $,r as f,y as d,z as g,A as y,w as x,B as D,D as H,E as V}from"./vendor.3ce90362.js";var z=Object.defineProperty,C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,B=(e,o,t)=>o in e?z(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,v=(e,o)=>{for(var t in o||(o={}))A.call(o,t)&&B(e,t,o[t]);if(C)for(var t of C(o))_.call(o,t)&&B(e,t,o[t]);return e};const q="connected";function M(e,o="en_US"){return new Promise((t,s)=>{window.fbAsyncInit=function(){window.FB.init(e),t(window.FB)},function(c,n,r){const h=c.getElementsByTagName(n)[0];if(c.getElementById(r))return;const l=c.createElement(n);l.id=r,l.src=`//connect.facebook.net/${o}/sdk.js`,l.onerror=w=>{(function(k){console.error(new URIError(`the script ${k.target.src} didn't load correctly.`))})(w),s(w)},h.parentNode.insertBefore(l,h)}(document,"script","facebook-jssdk"),window.setTimeout(()=>s("window.fbAsyncInit timed out, see: https://developers.facebook.com/support/bugs/"),3e3)})}const i=class{static async _init(e,o){return i.state.isExternal?window.FB:window.FB?(i.state.isExternal=!0,window.FB):(i.state.pending||(i.state.pending=M(e,o)),i.state.pending)}static reset(){i.state.consumers=0,i.state.pending=null,i.state.isExternal=!1}static subscribe(...e){return i.state.consumers++,i._init(...e)}static async unsubscribe(){if(i.state.consumers--,!i.state.isExternal&&!i.state.consumers)return i.reset(),new Promise(e=>{const o=document.getElementById("facebook-jssdk");o&&o.remove(),window.setTimeout(e)})}static isConnected(e){return e===q}static isDisconnected(e){return!i.isConnected(e)}static getLoginStatus(){return new Promise(e=>window.FB.getLoginStatus(e))}static login(e){return new Promise(o=>window.FB.login(o,e))}static logout(){return new Promise(e=>window.FB.logout(e))}};let a=i;var O,S,j;O=a,S="state",j=Object.seal({isExternal:!1,pending:null,consumers:0}),B(O,typeof S!="symbol"?S+"":S,j);var I={inheritAttrs:!1,name:"facebook-login-scope",emits:["click","input","sdk-init","login","logout"],props:{value:{type:Object,default:()=>({})},appId:{type:String,required:!0},version:{type:String,default:"v9.0"},options:{type:Object,default:()=>({cookie:!0,xfbml:!0,autoLogAppEvents:!0})},loginOptions:{type:Object,default:()=>({scope:"email"})},asyncDelay:{type:Number,default:0},sdkLocale:{type:String,default:"en_US"}},data:()=>({error:null,working:!0,connected:!1}),watch:{value({error:e,working:o,connected:t}){this.error=e,this.working=o,this.connected=t},scope(e){var o=e,t=((s,c)=>{var n={};for(var r in s)A.call(s,r)&&c.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&C)for(var r of C(s))c.indexOf(r)<0&&_.call(s,r)&&(n[r]=s[r]);return n})(o,["login","logout","toggleLogin"]);this.$emit("input",t)}},async created(){this.async(async()=>{const{appId:e,version:o,options:t,sdkLocale:s}=this,c=await a.subscribe(v({appId:e,version:o},t),s);if(this.error)return;this.$emit("sdk-init",{FB:c,scope:this.scope});const{status:n}=await a.getLoginStatus();a.isConnected(n)&&(this.connected=!0,this.$emit("login"))})},beforeUnmount(){a.unsubscribe()},computed:{idle(){return!this.working&&!this.hasError},enabled(){return!this.disabled},disabled(){return this.working||this.hasError||!this.appId},disconnected(){return!this.connected},hasError(){return Boolean(this.error)},scope(){return{idle:this.idle,error:this.error,hasError:this.hasError,login:this.login,logout:this.logout,working:this.working&&!this.hasError,enabled:this.enabled,disabled:this.disabled,connected:this.connected,toggleLogin:this.toggleLogin,disconnected:this.disconnected}}},methods:{toggleLogin(){this.connected?this.logout():this.login()},async login(){return this.async(async()=>{const e=await a.login(this.loginOptions);return a.isConnected(e.status)&&(this.connected=!0,this.$emit("login",e)),e})},async logout(){return this.async(async()=>{const e=await a.getLoginStatus();return a.isConnected(e.status)&&await a.logout(),this.connected=!1,this.$emit("logout",e),e})},async async(e){this.working=!0;const o=await e().catch(this.catchHandler),t=new Promise(c=>setTimeout(c,this.asyncDelay)),[,s]=await Promise.all([t,o]);return this.working=!1,s},catchHandler(e){this.error=e,console.error(this.error)}},render(){var e,o;return(o=(e=this.$slots).default)==null?void 0:o.call(e,this.scope)}};const N={},R={width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},G=b("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"},null,-1);N.render=function(e,o){return u(),p("svg",R,[G])};const E={},J=V();P("data-v-08412f81");const K={class:"v-loader"};F();const Q=J((e,o)=>(u(),p("span",K)));E.render=Q,E.__scopeId="data-v-08412f81";const T={},W={width:"24",height:"24",fill:"currentColor",viewBox:"0 0 167.657 167.657",xmlns:"http://www.w3.org/2000/svg"},X=b("g",null,[b("path",{d:`M83.829,0.349C37.532,0.349,0,37.881,0,84.178c0,41.523,30.222,75.911,69.848,82.57v-65.081H49.626\r
		v-23.42h20.222V60.978c0-20.037,12.238-30.956,30.115-30.956c8.562,0,15.92,0.638,18.056,0.919v20.944l-12.399,0.006\r
		c-9.72,0-11.594,4.618-11.594,11.397v14.947h23.193l-3.025,23.42H94.026v65.653c41.476-5.048,73.631-40.312,73.631-83.154\r
		C167.657,37.881,130.125,0.349,83.829,0.349z`})],-1);T.render=function(e,o){return u(),p("svg",W,[X])};const m={emits:["click"],name:"facebook-login-button",components:{Loader:E,Logo:N,LogoAlt:T},props:{scope:{type:Object,default:()=>({})},logoClass:{type:String},logoStyle:{type:Object,default:()=>({})},textClass:{type:String},textStyle:{type:Object,default:()=>({})},loaderClass:{type:String},loaderStyle:{type:Object,default:()=>({})},transition:{type:Array,default:()=>[]},useAltLogo:{type:Boolean,default:!1}},computed:{inlineStyle(){let e=["background-color 0.25s ease-in-out"].concat(this.transition);return e=[...new Set(e)].join(", "),{transition:e}}},methods:{handleClick(){var e,o;this.$emit("click"),(o=(e=this.scope).toggleLogin)==null||o.call(e)}}},Y=V();P("data-v-6c42f8fa");const Z=$("Continue with Facebook"),ee=$("Logout"),te=$("Please wait..."),oe=$("\u26D4 Error");F();const se=Y((e,o,t,s,c,n)=>{const r=f("Loader"),h=f("LogoAlt"),l=f("Logo");return u(),p("button",{class:"v-facebook-login",style:n.inlineStyle,disabled:t.scope.disabled,onClick:o[1]||(o[1]=(...w)=>n.handleClick&&n.handleClick(...w))},[d(e.$slots,"before",t.scope,void 0,!0),d(e.$slots,"loader",t.scope,()=>[t.scope.working?(u(),p(r,{key:0,class:["loader",t.loaderClass],style:t.loaderStyle},null,8,["class","style"])):y("",!0)],!0),t.scope.idle&&t.scope.disconnected?d(e.$slots,"logo",g({key:0},t.scope),()=>[t.useAltLogo?(u(),p(h,{key:0,class:["logo",t.logoClass],style:t.logoStyle},null,8,["class","style"])):(u(),p(l,{key:1,class:["logo",t.logoClass],style:t.logoStyle},null,8,["class","style"]))],!0):y("",!0),b("span",{class:t.textClass,style:t.textStyle},[t.scope.idle&&t.scope.disconnected?d(e.$slots,"login",g({key:0},t.scope),()=>[Z],!0):y("",!0),t.scope.idle&&t.scope.connected?d(e.$slots,"logout",g({key:1},t.scope),()=>[ee],!0):y("",!0),t.scope.working?d(e.$slots,"working",g({key:2},t.scope),()=>[te],!0):y("",!0),t.scope.hasError?d(e.$slots,"error",g({key:3},t.scope),()=>[oe],!0):y("",!0)],6),d(e.$slots,"after",t.scope,void 0,!0)],12,["disabled"])});m.render=se,m.__scopeId="data-v-6c42f8fa";const L={name:"facebook-login",components:{Scope:I,Button:m},props:v(v({},I.props),m.props),computed:{model:{get(){return this.value},set(e){this.$emit("input",e)}},buttonProps(){return function(e,o){const t={};for(const s in o)Object.prototype.hasOwnProperty.call(e.props,s)&&(t[s]=o[s]);return t}(m,this.$props)}}};L.render=function(e,o,t,s,c,n){const r=f("Button"),h=f("scope");return u(),p(h,g(e.$props,{modelValue:n.model,"onUpdate:modelValue":o[1]||(o[1]=l=>n.model=l)}),{default:x(l=>[b(r,g(v(v({},n.buttonProps),e.$attrs),{scope:l}),D({_:2},[H(e.$slots,(w,k)=>({name:k,fn:x(U=>[d(e.$slots,k,U)])}))]),1040,["scope"])]),_:1},16,["modelValue"])};const ne={install(e){e.component(L.name,L)}};(function(){let e;typeof window!="undefined"?e=window.Vue:typeof global!="undefined"&&(e=global.Vue),e&&e.use(ne)})();var ie=L;export{ie as V};
